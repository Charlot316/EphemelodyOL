{"version":3,"sources":["webpack:///./src/components/PlayInterface/Play.vue?82cb","webpack:///./node_modules/core-js/internals/string-pad.js","webpack:///./src/components/PlayInterface/Result.vue?e560","webpack:///./node_modules/core-js/modules/es.string.pad-start.js","webpack:///./src/views/PlayInterface.vue","webpack:///./src/components/PlayInterface/Play.vue","webpack:///./src/components/PlayInterface/Play.vue?7af7","webpack:///./src/components/PlayInterface/Prepare.vue","webpack:///./src/components/PlayInterface/Prepare.vue?e7da","webpack:///./src/components/PlayInterface/Result.vue","webpack:///./src/components/PlayInterface/Result.vue?f4dd","webpack:///./src/views/PlayInterface.vue?f532","webpack:///./node_modules/core-js/internals/string-pad-webkit-bug.js","webpack:///./src/components/PlayInterface/Prepare.vue?03b0","webpack:///./src/views/PlayInterface.vue?8e58"],"names":["toLength","repeat","requireObjectCoercible","ceil","Math","createMethod","IS_END","$this","maxLength","fillString","fillLen","stringFiller","S","String","stringLength","length","fillStr","undefined","intMaxLength","call","slice","module","exports","start","end","$","$padStart","WEBKIT_BUG","target","proto","forced","padStart","this","arguments","class","id","style","loadingStatus","chart","startMusic","global","imagePath","whiteLineLength","score","audioLoaded","imageLoaded","addCount","pause","reStart","continuePlay","pauseVisible","title","top","center","show-close","close-on-press-escape","close-on-click-modal","icon","$router","go","circle","finished","preload","controls","src","songUrl","image","key","url","tracks","Track","combo","lostCount","runStart","props","components","data","methods","$emit","back","param","__exports__","defaultBackground","runReady","songCover","uploader","songName","songWriter","canRun","loadingText","loadedText","watch","$forceUpdate","console","log","created","maxCombo","formerBestScore","pureCount","farCount","Play","Prepare","Result","songLength","audio","playInterface","chartGot","beforeFinished","imageCurrentCount","computed","time","waitLoad","currentTime","screenWidth","toString","calculateScore","screenHeight","remainingTime","finalY","lostTime","pureTime","farTime","isEdit","keyPressTime","keyIsHold","keyUsed","keyMap","notePainter","trackPainter","judgePainter","noteCanvas","trackCanvas","judgeCanvas","repaint","mounted","that","document","getElementById","getContext","resize","window","onresize","onkeydown","e","toUpperCase","onkeyup","addEventListener","preventDefault","ontouchstart","currentTracks","i","track","startTiming","endTiming","type","push","j","touches","k","touch","left","parseFloat","tempPositionX","tempWidth","right","pageX","identifier","lastTouchEnd","ontouchend","now","Date","getTime","changedTouches","initiate","documentElement","clientWidth","clientHeight","height","offsetHeight","width","offsetWidth","getChart","$http","get","$route","query","songId","res","code","$notify","message","sortTrack","generateImagePath","singleScore","notesCount","floor","sort","a","b","finish","post","pure","far","lost","$store","commit","value","potential","run","clearRect","setTimeout","round","duration","checkIfLoaded","play","muted","volume","state","changeBackgroundOperations","startTime","endTime","operation","nextOperation","background","judgeTime","timing","max","resetTrack","index","last","notes","judged","judges","currentNote","lastNote","judgeFinished","render","userAgent","test"],"mappings":"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","file":"static/js/chunk-0bfa384c.48d34e50.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Play.vue?vue&type=style&index=0&id=f136e1e0&scoped=true&lang=css\"","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Result.vue?vue&type=style&index=0&id=dfef2e50&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.es/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\n  <div class=\"play-interface select\" id=\"play-interface-container\">\n    <Prepare\n      :loadingStatus=\"loadingStatus\"\n      :chart=\"chart\"\n      @startMusic=\"startMusic\"\n    />\n    <Play\n      :loadingStatus=\"loadingStatus\"\n      :chart=\"chart\"\n      :global=\"global\"\n      :imagePath=\"imagePath\"\n      :whiteLineLength=\"whiteLineLength\"\n      :score=\"score\"\n      @audioLoaded=\"audioLoaded\"\n      @imageLoaded=\"imageLoaded\"\n      @addCount=\"addCount\"\n      @pause=\"pause\"\n      @restart=\"reStart\"\n      @continuePlay=\"continuePlay\"\n    />\n    <Result :loadingStatus=\"loadingStatus\" :chart=\"chart\" :global=\"global\" />\n    <el-dialog\n      v-model=\"pauseVisible\"\n      title=\"暂停\"\n      top=\"30vh\"\n      :center=\"true\"\n      :show-close=\"false\"\n      :close-on-press-escape=\"false\"\n      :close-on-click-modal=\"false\"\n    >\n      <div style=\"text-align: center;\">\n        <el-button\n          icon=\"el-icon-caret-left\"\n          @click=\"$router.go(-1)\"\n          circle\n        ></el-button>\n        <el-button\n          icon=\"el-icon-refresh-left\"\n          circle\n          @click=\"reStart\"\n        ></el-button>\n        <el-button\n          icon=\"el-icon-caret-right\"\n          circle\n          @click=\"continuePlay\"\n        ></el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport \"animate.css\";\nimport Play from \"@/components/PlayInterface/Play\";\nimport Prepare from \"@/components/PlayInterface/Prepare\";\nimport Result from \"@/components/PlayInterface/Result\";\nexport default {\n  components: {\n    Play,\n    Prepare,\n    Result,\n  },\n  data() {\n    return {\n      chart: {\n        songLength: 0,\n      },\n      global: {},\n      imagePath: [],\n      pauseVisible: false,\n      audio: null,\n      playInterface: null,\n      chartGot: false,\n      loadingStatus: {\n        chart: false,\n        audio: false,\n        image: false,\n        canRun: false,\n        runReady: false,\n        runStart: false,\n        beforeFinished: false,\n        finished: false,\n        imageCurrentCount: 0,\n      },\n    };\n  },\n  computed: {\n    whiteLineLength() {\n      const time = 200;\n      const waitLoad = 1000;\n      if (\n        this.global.currentTime > time + waitLoad &&\n        this.global.currentTime < this.chart.songLength - time\n      ) {\n        return this.global.screenWidth;\n      } else {\n        if (this.global.currentTime <= time + waitLoad) {\n          if (this.global.currentTime < waitLoad) {\n            return 0;\n          } else\n            return (\n              ((this.global.currentTime - waitLoad) * this.global.screenWidth) /\n              time\n            );\n        } else {\n          return (\n            ((this.chart.songLength - this.global.currentTime) *\n              this.global.screenWidth) /\n            time\n          );\n        }\n      }\n    },\n    score() {\n      if (this.global.score)\n        return this.global.score.toString().padStart(8, \"0\");\n      else return \"00000000\";\n    },\n  },\n  watch: {\n    \"global.pureCount\"() {\n      this.calculateScore();\n    },\n    \"global.farCount\"() {\n      this.calculateScore();\n    },\n  },\n  created() {\n    this.loadingStatus = {\n      chart: false,\n      audio: false,\n      image: false,\n      canRun: false,\n      runReady: false,\n      runStart: false,\n      beforeFinished: false,\n      finished: false,\n      imageCurrentCount: 0,\n    };\n    this.global = {\n      screenWidth: 0,\n      screenHeight: 0,\n      remainingTime: 1000,\n      finalY: 0.8,\n      currentTime: 0,\n      lostTime: 150,\n      pureTime: 50,\n      farTime: 100,\n      isEdit: false,\n      keyPressTime: [],\n      keyIsHold: [],\n      keyUsed: [],\n      keyMap: [],\n      pureCount: 0,\n      farCount: 0,\n      lostCount: 0,\n      combo: 0,\n      maxCombo: 0,\n      score: 0,\n      notePainter: null,\n      trackPainter: null,\n      judgePainter: null,\n      noteCanvas: null,\n      trackCanvas: null,\n      judgeCanvas: null,\n      repaint: false,\n    };\n  },\n  mounted() {\n    const that = this;\n    this.playInterface = document.getElementById(\"play-interface-container\");\n    this.global.noteCanvas = document.getElementById(\"note-canvas\");\n    this.global.trackCanvas = document.getElementById(\"track-canvas\");\n    this.global.judgeCanvas = document.getElementById(\"judge-canvas\");\n    this.global.notePainter = this.global.noteCanvas.getContext(\"2d\");\n    this.global.trackPainter = this.global.trackCanvas.getContext(\"2d\");\n    this.global.judgePainter = this.global.judgeCanvas.getContext(\"2d\");\n    this.resize();\n    window.onresize = () => {\n      return (() => {\n        that.resize();\n      })();\n    };\n\n    document.onkeydown = function(e) {\n      if (!e.repeat) {\n        that.global.keyPressTime[e.key.toUpperCase()] = that.global.currentTime;\n        that.global.keyIsHold[e.key.toUpperCase()] = true;\n        that.global.keyUsed[e.key.toUpperCase()] = false;\n      }\n      if (e.key == \"Escape\") {\n        that.pause();\n      }\n      if (e.key == \"Enter\") {\n        that.continuePlay();\n      }\n    };\n    document.onkeyup = function(e) {\n      that.global.keyIsHold[e.key.toUpperCase()] = false;\n    };\n    document.addEventListener(\"gesturestart\", function(e) {\n      e.preventDefault();\n    });\n    this.playInterface.ontouchstart = function(e) {\n      if (that.chart.tracks) {\n        var currentTime = that.global.currentTime;\n        var currentTracks = [];\n        for (var i = 0; i < that.chart.tracks.length; i++) {\n          var track = that.chart.tracks[i];\n          if (\n            currentTime > track.startTiming &&\n            currentTime < track.endTiming &&\n            track.type == 1\n          ) {\n            currentTracks.push(track);\n          }\n        }\n        for (var j = 0; j < e.touches.length; j++) {\n          for (var k = 0; k < currentTracks.length; k++) {\n            track = currentTracks[k];\n            var touch = e.touches[j];\n            var left =\n              (parseFloat(track.tempPositionX) - parseFloat(track.tempWidth)) *\n              that.global.screenWidth;\n            var right =\n              (parseFloat(track.tempPositionX) + parseFloat(track.tempWidth)) *\n              that.global.screenWidth;\n\n            if (touch.pageX > left && touch.pageX < right) {\n              var key = track.key.toUpperCase();\n              that.global.keyPressTime[key] = currentTime;\n              that.global.keyIsHold[key] = true;\n              that.global.keyUsed[key] = false;\n              that.global.keyMap[touch.identifier] = key;\n            }\n          }\n        }\n      }\n      if (e.touches.length > 1) {\n        e.preventDefault();\n      }\n    };\n    var lastTouchEnd = 0;\n    this.playInterface.ontouchend = function(e) {\n      var now = new Date().getTime();\n      if (now - lastTouchEnd <= 300) {\n        e.preventDefault();\n      }\n      lastTouchEnd = now;\n      if (that.chart.tracks) {\n        for (var j = 0; j < e.changedTouches.length; j++) {\n          var touch = e.changedTouches[j];\n          that.global.keyIsHold[that.global.keyMap[touch.identifier]] = false;\n        }\n      }\n    };\n    this.initiate();\n  },\n\n  methods: {\n    resize() {\n      const that = this;\n      this.playInterface = document.getElementById(\"play-interface-container\");\n      that.global.screenWidth = document.documentElement.clientWidth;\n      that.global.screenHeight = document.documentElement.clientHeight;\n      that.global.noteCanvas.height = that.playInterface.offsetHeight;\n      that.global.trackCanvas.height = that.playInterface.offsetHeight;\n      that.global.judgeCanvas.height = that.playInterface.offsetHeight;\n      that.global.noteCanvas.width = that.playInterface.offsetWidth;\n      that.global.trackCanvas.width = that.playInterface.offsetWidth;\n      that.global.judgeCanvas.width = that.playInterface.offsetWidth;\n    },\n\n    //加载\n    initiate() {\n      this.getChart();\n    },\n\n    //获取谱面信息\n    async getChart() {\n      try {\n        const { data: res } = await this.$http.get(\n          `/user/getChart?songId=${this.$route.query.songId}`\n        );\n        if (res.code !== 0) {\n          this.$notify({\n            title: \"失败\",\n            message: \"登录失败！\",\n            type: \"error\",\n          });\n        }\n        this.chart = res.data;\n        this.loadingStatus.chart = true;\n        this.sortTrack();\n        this.generateImagePath();\n      } catch (err) {\n        return this.$notify({\n          title: \"错误\",\n          message: \"网络异常\",\n          type: \"error\",\n        });\n      }\n    },\n\n    calculateScore() {\n      let singleScore = 10000000 / this.chart.notesCount;\n      this.global.score = Math.floor(\n        this.global.pureCount * singleScore +\n          this.global.farCount * 0.5 * singleScore\n      );\n      if (this.global.score > 10000000) this.global.score = 10000000;\n    },\n    //给轨道排序\n    sortTrack() {\n      this.chart.tracks.sort(function(a, b) {\n        return a.startTiming - b.startTiming;\n      });\n    },\n    async finish() {\n      try {\n        const { data: res } = await this.$http.post(\"/play/uploadRecord\", {\n          score: this.global.score,\n          songId: this.$route.query.songId,\n          pure: this.global.pureCount,\n          far: this.global.farCount,\n          lost: this.global.lostCount,\n          combo: this.global.maxCombo,\n        });\n        // console.log(JSON.stringify({\n        //   score: this.global.score,\n        //   songId: this.$route.query.songId,\n        //   pure: this.global.pureCount,\n        //   far: this.global.farCount,\n        //   lost: this.global.lostCount,\n        //   combo: this.global.maxCombo,\n        // }))\n        if (res.code !== 0) {\n          this.$notify({\n            title: \"失败\",\n            message: \"成绩上传失败！\",\n            type: \"error\",\n          });\n        }\n        this.global.formerBestScore = res.data.formerBestScore;\n        this.$store.commit(\"changeParam\", {\n          key: \"potential\",\n          value: res.data.potential,\n        });\n      } catch (err) {\n        return this.$notify({\n          title: \"错误\",\n          message: \"网络异常\",\n          type: \"error\",\n        });\n      }\n    },\n    //运行\n    run() {\n      if (\n        document.documentElement.clientWidth != this.global.screenWidth ||\n        document.documentElement.clientHeight != this.global.screenHeight\n      ) {\n        this.resize();\n      }\n      this.global.notePainter.clearRect(\n        0,\n        0,\n        this.global.noteCanvas.width,\n        this.global.noteCanvas.height\n      );\n      this.global.trackPainter.clearRect(\n        0,\n        0,\n        this.global.trackCanvas.width,\n        this.global.trackCanvas.height\n      );\n      this.global.judgePainter.clearRect(\n        0,\n        0,\n        this.global.judgeCanvas.width,\n        this.global.judgeCanvas.height\n      );\n      this.global.currentTime = Math.floor(this.audio.currentTime * 1000);\n      if (this.global.currentTime < this.chart.songLength - 150) {\n        setTimeout(() => {\n          this.run();\n        }, 10);\n      } else {\n        this.global.currentTime = this.chart.songLength;\n        this.loadingStatus.beforeFinished = true;\n\n        this.calculateScore();\n        this.finish();\n        this.$forceUpdate();\n\n        setTimeout(() => {\n          this.loadingStatus.finished = true;\n          this.$forceUpdate();\n        }, 2000);\n      }\n    },\n\n    //audio加载完毕\n    audioLoaded() {\n      this.audio = document.getElementById(\"audioSong\");\n      this.chart.songLength = Math.round(1000 * this.audio.duration);\n      this.generateImagePath();\n      this.loadingStatus.audio = true;\n      console.log(\"audio loaded\");\n      this.checkIfLoaded();\n    },\n\n    //图片加载完毕\n    imageLoaded() {\n      this.loadingStatus.imageCurrentCount++;\n      if (this.loadingStatus.imageCurrentCount == this.imagePath.length) {\n        this.loadingStatus.image = true;\n        console.log(\"image loaded\");\n        this.checkIfLoaded();\n      }\n    },\n\n    //打印控制台信息\n    log(message) {\n      console.log(message);\n    },\n\n    //开始播放音乐\n    startMusic() {\n      if (this.loadingStatus.canRun) {\n        this.audio.play();\n        this.audio.muted = true;\n\n        this.loadingStatus.runReady = true;\n        this.$forceUpdate();\n        setTimeout(() => {\n          this.loadingStatus.runStart = true;\n          this.$forceUpdate();\n          this.audio.currentTime = 0;\n          this.audio.muted = false;\n          this.audio.volume = this.$store.state.volume / 100;\n          this.run();\n        }, 500);\n      }\n    },\n\n    //生成图片路径\n    generateImagePath() {\n      this.imagePath = [];\n      let length = this.chart.changeBackgroundOperations.length;\n      let start = 0;\n      let end = start;\n      let defaultBackground = this.chart.defaultBackground;\n      if (length == 0) {\n        end = this.chart.songLength;\n      } else {\n        this.chart.changeBackgroundOperations.sort(function(a, b) {\n          return a.startTime - b.startTime;\n        });\n        end = this.chart.changeBackgroundOperations[0].startTime;\n      }\n      this.imagePath.push({\n        url: defaultBackground,\n        startTime: 0,\n        endTime: end,\n      });\n      for (let i = 0; i < length; i++) {\n        let operation = this.chart.changeBackgroundOperations[i];\n        start = operation.startTime;\n        if (i != length - 1) {\n          let nextOperation = this.chart.changeBackgroundOperations[i + 1];\n          this.imagePath.push({\n            url: operation.background,\n            startTime: start,\n            endTime: nextOperation.startTime,\n          });\n        } else {\n          this.imagePath.push({\n            url: operation.background,\n            startTime: start,\n            endTime: this.chart.songLength + 1000,\n          });\n        }\n      }\n    },\n\n    //父组件提供的方法\n    addCount(param) {\n      this.global[param.key] += 1;\n      console.log(\n        param.message +\n          \", 点击时机:\" +\n          param.judgeTime +\n          \", 音符时机:\" +\n          param.timing\n      );\n      if (param.type == \"lost\") {\n        this.global.combo = 0;\n      } else {\n        this.global.combo++;\n        this.global.maxCombo = Math.max(\n          this.global.maxCombo,\n          this.global.combo\n        );\n      }\n    },\n\n    //当所有都加载完毕的时候开始运行\n    checkIfLoaded() {\n      if (\n        this.loadingStatus.chart &&\n        this.loadingStatus.audio &&\n        this.loadingStatus.image\n      ) {\n        setTimeout(() => {\n          this.loadingStatus.canRun = true;\n          this.$forceUpdate();\n        }, 1000);\n      }\n    },\n    //暂停\n    pause() {\n      if (this.global.currentTime < this.chart.songLength) {\n        this.audio.pause();\n        this.pauseVisible = true;\n      }\n    },\n    //继续\n    continuePlay() {\n      this.pauseVisible = false;\n      this.audio.play();\n    },\n    //重新开始\n    reStart() {\n      this.pauseVisible = false;\n      this.global.keyPressTime = [];\n      this.global.keyIsHold = [];\n      this.global.keyUsed = [];\n      this.global.keyMap = [];\n      this.global.pureCount = 0;\n      this.global.farCount = 0;\n      this.global.lostCount = 0;\n      this.global.combo = 0;\n      this.global.maxCombo = 0;\n      this.global.score = 0;\n      this.resetTrack();\n      this.audio.currentTime = 0;\n      this.audio.play();\n    },\n    resetTrack() {\n      this.global.keyPressTime = [];\n      this.global.keyIsHold = [];\n      this.global.keyUsed = [];\n      for (var i = 0; i < this.chart.tracks.length; i++) {\n        var track = this.chart.tracks[i];\n        var index = 0;\n        var last = track.notes.length;\n        for (var j = track.notes.length - 1; j >= 0; j--) {\n          track.notes[j].judged = false;\n          if (\n            track.notes[j].timing + this.global.lostTime >\n            this.global.currentTime\n          ) {\n            index = j;\n          }\n          if (\n            this.global.currentTime <\n            track.notes[j].timing - this.global.remainingTime\n          ) {\n            last = j;\n          }\n        }\n        track.judges = [];\n        track.currentNote = index;\n        track.lastNote = last - 1;\n        if (track.currentNote != track.notes.length) {\n          track.judgeFinished = false;\n        } else {\n          track.judgeFinished = true;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.play-interface {\n  height: 100vh;\n  width: 100vw;\n  background: white;\n  overflow: auto;\n}\n.select {\n  -webkit-user-select: none;\n\n  -moz-user-select: none;\n\n  -ms-user-select: none;\n\n  user-select: none;\n}\n</style>\n","<template>\n  <div\n    v-show=\"loadingStatus.runStart\"\n    v-if=\"!loadingStatus.finished\"\n    class=\"play-interface\"\n  >\n    <!-- 音频 -->\n    <audio\n      id=\"audioSong\"\n      preload=\"auto\"\n      controls\n      :src=\"chart.songUrl\"\n      style=\"display:none\"\n      @canplaythrough=\"audioLoaded\"\n    />\n    <!-- 背景 -->\n    <div v-for=\"image in imagePath\" :key=\"image\">\n      <img\n        :src=\"image.url\"\n        v-show=\"\n          global.currentTime >= image.startTime &&\n            global.currentTime <= image.endTime\n        \"\n        @load=\"imageLoaded\"\n        style=\"position:absolute;left:0;top:0;width:100%;height:100%;object-fit:fill;user-drag:none;\"\n      />\n    </div>\n\n    <!-- 判定线 -->\n    <div\n      :style=\"{\n        height: '2px',\n        position: 'absolute',\n        left: '0px',\n        top: global.screenHeight * global.finalY - 1 + 'px',\n        width: global.screenWidth + 'px',\n      }\"\n    >\n      <div\n        class=\"white-line\"\n        :style=\"{\n          height: '100%',\n          position: 'absolute',\n          left: (global.screenWidth - whiteLineLength) / 2 + 'px',\n          width: whiteLineLength + 'px',\n          background: 'rgba(255,255,255,1)',\n        }\"\n      ></div>\n    </div>\n\n    <canvas id=\"track-canvas\" style=\"position:absolute;top:0;left:0;\" />\n    <canvas id=\"note-canvas\" style=\"position:absolute;top:0;left:0;\" />\n    <canvas id=\"judge-canvas\" style=\"position:absolute;top:0;left:0;\" />\n    <!-- 轨道 -->\n    <div\n      class=\"play-interface-track-container\"\n      v-for=\"Track in chart.tracks\"\n      :key=\"Track\"\n    >\n      <Track\n        :Track=\"Track\"\n        :global=\"global\"\n        @addCount=\"addCount\"\n        v-if=\"\n          global.currentTime > Track.startTiming &&\n            global.currentTime < Track.endTiming\n        \"\n      />\n    </div>\n\n    <!-- 记分板 -->\n    <div\n      :class=\"\n        loadingStatus.beforeFinished\n          ? 'play-interface-scoreboard-container-upward'\n          : 'play-interface-scoreboard-container-downward'\n      \"\n      :style=\"{\n        height: '200px',\n        position: 'absolute',\n        left: '0px',\n        width: global.screenWidth + 'px',\n        background: [\n          '-webkit-linear-gradient(90deg, rgba(0,0,0,0) 0, rgba(0,0,0,1) 100%)',\n          '-moz-linear-gradient(0deg, rgba(0,0,0,0) 0, rgba(0,0,0,1) 100%)',\n          'linear-gradient(0deg, rgba(0,0,0,0) 0, rgba(0,0,0,1) 100%)',\n        ],\n      }\"\n    >\n      <div\n        class=\"score-counter\"\n        style=\"text-align:center;\n          position:absolute;\n          left:0px;\n          width: 50px;\n          margin: 0 auto;\n          text-shadow: 1px 1px 0 rgba(0,0,0,0.25);\n          font-size:30px;\n          color:rgb(255,255,255);\n          cursor: pointer;\"\n        @click=\"pause\"\n      >\n        {{ \"|\" + \"&#32;\" + \"|\" }}\n      </div>\n      <div\n        class=\"score-counter\"\n        style=\"text-align:center;\n          position:absolute;\n          right:0px;\n          width: 200px;\n          margin: 0 auto;\n          text-shadow: 1px 1px 0 rgba(0,0,0,0.25);\n          font-size:40px;\n          color:rgb(255,255,255)\"\n      >\n        {{ score }}\n      </div>\n      <div class=\"combo-counter\" v-if=\"global.combo > 1\">\n        <div\n          style=\"text-align:center;\n          width: 200px;\n          margin: 0 auto;\n          text-shadow: 1px 1px 0 rgba(0,0,0,0.25);\n          font-size:70px;\n          color:rgb(255,255,255)\"\n        >\n          {{ global.combo }}\n        </div>\n        <div\n          style=\"text-align:center;\n          width: 200px;\n          margin: 0 auto;\n          text-shadow: 1px 1px 0 rgba(0,0,0,0.25);\n          font-size:20px;\n          color:rgb(255,255,255)\"\n        >\n          <span\n            :style=\"{\n              color: [\n                global.combo == global.pureCount && global.lostCount == 0\n                  ? 'rgb(247, 199, 9)'\n                  : global.lostCount == 0\n                  ? 'rgb(135, 206, 250)'\n                  : 'rgb(255, 255, 255)',\n              ],\n            }\"\n            >{{ global.lostCount == 0 ? \"⬥\" : \"⬦\" }}</span\n          >\n          COMBO\n          <span\n            :style=\"{\n              color: [\n                global.combo == global.pureCount && global.lostCount == 0\n                  ? 'rgb(247, 199, 9)'\n                  : global.lostCount == 0\n                  ? 'rgb(135, 206, 250)'\n                  : 'rgb(255, 255, 255)',\n              ],\n            }\"\n            >{{ global.lostCount == 0 ? \"⬥\" : \"⬦\" }}</span\n          >\n        </div>\n      </div>\n    </div>\n  \n  </div>\n</template>\n\n<script>\nimport Track from \"@/components/PlayInterface/Track\";\nexport default {\n  props: [\n    \"loadingStatus\",\n    \"chart\",\n    \"global\",\n    \"imagePath\",\n    \"score\",\n    \"whiteLineLength\",\n  ],\n  components: {\n    Track,\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    audioLoaded() {\n      this.$emit(\"audioLoaded\");\n    },\n    imageLoaded() {\n      this.$emit(\"imageLoaded\");\n    },\n    pause() {\n      this.$emit(\"pause\");\n    },\n    back() {\n      this.$emit(\"back\");\n    },\n    reStart() {\n      this.$emit(\"reStart\");\n    },\n    continuePlay() {\n      this.$emit(\"continuePlay\");\n    },\n    addCount(param) {\n      this.$emit(\"addCount\", param);\n    },\n  },\n};\n</script>\n\n<style scoped>\n@keyframes scoreboard-container-downward {\n  0% {\n    top: -200px;\n  }\n  100% {\n    top: 0px;\n  }\n}\n\n@keyframes scoreboard-container-upward {\n  0% {\n    top: 0px;\n  }\n  100% {\n    top: -200px;\n  }\n}\n.play-interface-scoreboard-container-downward {\n  top: 0;\n  animation: scoreboard-container-downward 0.5s ease-out;\n}\n\n.play-interface-scoreboard-container-upward {\n  top: -200px;\n  animation: scoreboard-container-upward 0.5s ease-out;\n}\n</style>\n","import { render } from \"./Play.vue?vue&type=template&id=f136e1e0&scoped=true\"\nimport script from \"./Play.vue?vue&type=script&lang=js\"\nexport * from \"./Play.vue?vue&type=script&lang=js\"\n\nimport \"./Play.vue?vue&type=style&index=0&id=f136e1e0&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/charlotfirth/Documents/study/2022Spring/J2EE框架/大作业前端/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f136e1e0\"]])\n\nexport default __exports__","<template>\n  <div v-if=\"!loadingStatus.runStart\" class=\"show-info\">\n  \n    <img\n      :src=\"chart.defaultBackground\"\n      class=\"loading-background\"\n      style=\"user-drag:none;\"\n    />\n    <div style=\"position:absolute;width:100vw;height:100vh;\"></div>\n    <div\n      :class=\"loadingStatus.runReady ? 'info-container-out' : 'info-container'\"\n      style=\"overflow: auto;\"\n    >\n      <div\n        style=\"display: flex;justify-content: space-between;align-items: center;\"\n      >\n        <div class=\"songcover-container\">\n          <img class=\"songcover-img\" :src=\"chart.songCover\" />\n        </div>\n        <div class=\"info\" style=\"padding:20px;\">\n          <div\n            class=\"song-uploader\"\n            style=\"text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:30px;color:rgb(255,250,235);\"\n          >\n            {{ chart.uploader }}\n          </div>\n          <div\n            class=\"song-name\"\n            style=\"text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:70px;color:rgb(255,255,255);background-color:rgba(105, 245, 202, 0.5);\"\n          >\n            {{ chart.songName }}\n          </div>\n          <div\n            class=\"song-writer\"\n            style=\"text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:50px;color:rgb(255,255,255);background-color:rgba(255, 255, 255, 0.5);\"\n          >\n            {{ chart.songWriter }}\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"loading-container\"\n        style=\"text-align: center;margin-right:50px;\"\n      >\n        <div\n          :class=\"loadingStatus.canRun ? 'play-button' : 'play-button-disabled'\"\n          style=\"width:150px;height:150px;line-height:150px;margin:20px auto;border-radius:50%;\"\n          @click=\"startMusic\"\n        >\n          {{ loadingStatus.canRun ? \"开始\" : \"加载中\" }}\n        </div>\n        <div\n          class=\"loading-text\"\n          v-if=\"!loadingStatus.canRun\"\n          style=\"padding:10px;min-width:400px;text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:20px;color:rgb(255,255,255);\"\n        >\n          {{ chart.loadingText }}\n        </div>\n        <div\n          v-if=\"loadingStatus.canRun\"\n          style=\"padding:10px;min-width:400px;text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:20px;color:rgb(255,255,255);\"\n        >\n          {{ chart.loadedText }}\n        </div>\n        <div\n          class=\"loaded-text\"\n          v-if=\"loadingStatus.canRun\"\n          style=\"height:2px;min-width:400px;text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:20px;color:rgb(255,255,255);\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"loadingStatus\", \"chart\"],\n  components: {\n  },\n  watch: {\n    chart(){\n      this.$forceUpdate();\n      console.log(this.chart.defaultBackground)\n    }\n  },\n  created() {},\n  methods: {\n    startMusic() {\n      this.$emit(\"startMusic\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n@keyframes backgroung-image {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes linearGradientMove {\n  100% {\n    background-position: 4px 0, -4px 100%, 0 -4px, 100% 4px;\n  }\n}\n\n.loading-text {\n  background: linear-gradient(90deg, rgb(255, 255, 255) 50%, transparent 0)\n      repeat-x,\n    linear-gradient(90deg, rgb(255, 255, 255) 50%, transparent 0) repeat-x,\n    linear-gradient(0deg, rgb(255, 255, 255) 50%, transparent 0) repeat-y,\n    linear-gradient(0deg, rgb(255, 255, 255) 50%, transparent 0) repeat-y;\n  background-size: 0px 0px, 4px 1px, 0px 0px, 0px 0px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n  animation: linearGradientMove 0.3s infinite linear;\n}\n\n@keyframes loadedText {\n  0% {\n    background-size: 0% 2px;\n  }\n  100% {\n    background-size: 100% 2px;\n  }\n}\n.loaded-text {\n  background-image: linear-gradient(rgb(255, 255, 255), rgb(255, 255, 255));\n  background-position: center bottom;\n  background-repeat: no-repeat;\n  animation-duration: 1s;\n  animation-name: loadedText;\n}\n\n@keyframes playbutton {\n  0% {\n    box-shadow: 0px 0px 0px 0px rgba(255, 120, 160, 0.8);\n  }\n  100% {\n    box-shadow: 0px 0px 0px 40px rgba(255, 144, 164, 0.2);\n  }\n}\n.play-button {\n  animation-name: playbutton;\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n  transform: scale(1);\n  cursor: pointer;\n  font-size: 30px;\n  color: rgb(255, 255, 255);\n  background-image: -webkit-linear-gradient(\n    -240.9453959009229deg,\n    rgb(252, 169, 234) 0,\n    rgb(227, 133, 192) 6%,\n    rgb(255, 124, 198) 53%,\n    rgb(243, 83, 113) 100%\n  );\n  background-image: -moz-linear-gradient(\n    330.9453959009229deg,\n    rgb(252, 169, 234) 0,\n    rgb(227, 133, 192) 6%,\n    rgb(255, 124, 198) 53%,\n    rgb(243, 83, 113) 100%\n  );\n  background-image: linear-gradient(\n    330.9453959009229deg,\n    rgb(252, 169, 234) 0,\n    rgb(227, 133, 192) 6%,\n    rgb(255, 124, 198) 53%,\n    rgb(243, 83, 113) 100%\n  );\n  transform: scale(1);\n  transition: 0.5s;\n}\n\n.play-button-disabled {\n  transform: scale(1);\n  cursor: wait;\n  font-size: 30px;\n  color: rgb(255, 255, 255);\n  background-image: -webkit-linear-gradient(\n    -240.9453959009229deg,\n    rgb(82, 105, 125) 0,\n    rgb(65, 82, 97) 6%,\n    rgb(27, 55, 80) 53%,\n    rgb(17, 48, 81) 100%\n  );\n  background-image: -moz-linear-gradient(\n    330.9453959009229deg,\n    rgb(82, 105, 125) 0,\n    rgb(65, 82, 97) 6%,\n    rgb(27, 55, 80) 53%,\n    rgb(17, 48, 81) 100%\n  );\n  background-image: linear-gradient(\n    330.9453959009229deg,\n    rgb(82, 105, 125) 0,\n    rgb(65, 82, 97) 6%,\n    rgb(27, 55, 80) 53%,\n    rgb(17, 48, 81) 100%\n  );\n  transform: scale(1);\n  transition: 0.5s;\n}\n.play-button:hover {\n  transform: scale(0.9);\n  transition: 0.5s;\n}\n\n.play-button:active {\n  transform: scale(0.85);\n  transition: 0.1s;\n}\n\n.loading-background {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  object-fit: fill;\n  -webkit-user-drag: none;\n  animation-name: backgroung-image;\n  animation-duration: 10s;\n  animation-iteration-count: infinite;\n}\n\n@keyframes info-container-upward {\n  0% {\n    bottom: -400px;\n  }\n  100% {\n    bottom: 0px;\n  }\n}\n\n.info-container {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 300px;\n  padding: 40px;\n  object-fit: fill;\n  -webkit-user-drag: none;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  animation: info-container-upward 0.5s ease-out;\n}\n\n@keyframes info-container-downward {\n  0% {\n    bottom: 0px;\n  }\n  100% {\n    bottom: -400px;\n  }\n}\n.info-container-out {\n  animation: info-container-downward 0.5s ease-out;\n  position: absolute;\n  left: 0;\n  bottom: -400px;\n  width: 100%;\n  height: 300px;\n  padding: 40px;\n  object-fit: fill;\n  -webkit-user-drag: none;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.songcover-container {\n  width: 300px;\n  height: 300px;\n  margin: 0;\n}\n\n.songcover-img {\n  width: 100%;\n  height: 100%;\n  object-fit: fill;\n  -webkit-user-drag: none;\n  border: 2px solid rgb(255, 255, 255);\n}\n</style>\n","import { render } from \"./Prepare.vue?vue&type=template&id=78d5c148&scoped=true\"\nimport script from \"./Prepare.vue?vue&type=script&lang=js\"\nexport * from \"./Prepare.vue?vue&type=script&lang=js\"\n\nimport \"./Prepare.vue?vue&type=style&index=0&id=78d5c148&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/charlotfirth/Documents/study/2022Spring/J2EE框架/大作业前端/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78d5c148\"]])\n\nexport default __exports__","<template>\n  <div v-if=\"loadingStatus.finished\" class=\"show-record\">\n    <div class=\"loading-background-end\">\n      <img :src=\"chart.defaultBackground\" class=\"loading-background\" />\n    </div>\n    <div\n      class=\"loading-background-end-shader\"\n      :style=\"{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        height: global.screenHeight + 'px',\n        width: global.screenWidth + 'px',\n      }\"\n    ></div>\n\n    <div class=\"record-container\">\n      <div\n        class=\"record-container-body\"\n        :style=\"{\n          position: 'absolute',\n          top: 0.2 * global.screenHeight + 'px',\n          left: 0,\n          height: 0.6 * global.screenHeight + 'px',\n          width: '100%',\n        }\"\n      >\n        <div class=\"song-cover\">\n          <img class=\"songcover-img\" :src=\"chart.songCover\" />\n        </div>\n        <div class=\"record-content\">\n          <div>\n            <div\n              class=\"song-name\"\n              style=\"min-width:400px;text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:50px;color:rgb(255,255,255);background-color:rgba(105, 245, 202, 0.5);padding:0px 10px;\"\n            >\n              {{ chart.songName }}\n            </div>\n            <div\n              style=\"min-width:400px;text-align:left;text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:70px;color:rgb(255,255,255);padding:0px 10px;\"\n            >\n              {{ global.score }}\n            </div>\n            <div\n              style=\"min-width:400px;text-align:left;text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:20px;color:rgb(255,255,255);padding:0px 10px;\"\n            >\n              最大连击:{{ global.maxCombo + \"\\u3000\" }}历史最佳成绩:{{\n                global.formerBestScore\n              }}\n            </div>\n            <div\n              style=\"min-width:400px;text-align:left;text-shadow: 1px 1px 0 rgba(0,0,0,0.25);font-size:20px;color:rgb(255,255,255);padding:0px 10px;\"\n            >\n              pure:{{ global.pureCount + \"\\u3000\" }}far:{{\n                global.farCount + \"\\u3000\"\n              }}lost:{{ global.lostCount }}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div\n        :class=\"'play-button'\"\n        @click=\"$router.go(-1)\"\n        style=\"width:150px;height:150px;line-height:150px;position:absolute;bottom:50px;right:50px;border-radius:50%;text-align: center;\"\n      >\n        继续\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"loadingStatus\", \"chart\", \"global\"],\n};\n</script>\n\n<style scoped>\n.record-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.record-container-body {\n  display: flex;\n  align-items: center;\n}\n\n@keyframes song-cover-enter {\n  0% {\n    right: 100%;\n  }\n  100% {\n    right: 55%;\n  }\n}\n.song-cover {\n  width: 300px;\n  height: 300px;\n  margin: 0;\n  position: absolute;\n  right: 55%;\n  animation: song-cover-enter 0.5s ease-out;\n}\n.songcover-img {\n  width: 100%;\n  height: 100%;\n  object-fit: fill;\n  -webkit-user-drag: none;\n  border: 2px solid rgb(255, 255, 255);\n}\n\n@keyframes record-content-enter {\n  0% {\n    left: 100%;\n  }\n  100% {\n    left: 55%;\n  }\n}\n.record-content {\n  left: 55%;\n  position: absolute;\n  animation: record-content-enter 0.5s ease-out;\n  display: flex;\n}\n\n@keyframes loading-background-end {\n  0% {\n    filter: blur(0px);\n  }\n  100% {\n    filter: blur(10px);\n  }\n}\n\n.loading-background-end {\n  animation-name: loading-background-end;\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  filter: blur(10px);\n}\n\n@keyframes loading-background-end-shader {\n  0% {\n    background-color: rgba(100, 100, 100, 0);\n  }\n  100% {\n    background-color: rgba(100, 100, 100, 0.2);\n  }\n}\n.loading-background-end-shader {\n  animation-name: loading-background-end-shader;\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  background: rgba(100, 100, 100, 0.2);\n}\n\n@keyframes playbutton {\n  0% {\n    box-shadow: 0px 0px 0px 0px rgba(255, 120, 160, 0.8);\n  }\n  100% {\n    box-shadow: 0px 0px 0px 40px rgba(255, 144, 164, 0.2);\n  }\n}\n.play-button {\n  animation-name: playbutton;\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n  transform: scale(1);\n  cursor: pointer;\n  font-size: 30px;\n  color: rgb(255, 255, 255);\n  background-image: -webkit-linear-gradient(\n    -240.9453959009229deg,\n    rgb(252, 169, 234) 0,\n    rgb(227, 133, 192) 6%,\n    rgb(255, 124, 198) 53%,\n    rgb(243, 83, 113) 100%\n  );\n  background-image: -moz-linear-gradient(\n    330.9453959009229deg,\n    rgb(252, 169, 234) 0,\n    rgb(227, 133, 192) 6%,\n    rgb(255, 124, 198) 53%,\n    rgb(243, 83, 113) 100%\n  );\n  background-image: linear-gradient(\n    330.9453959009229deg,\n    rgb(252, 169, 234) 0,\n    rgb(227, 133, 192) 6%,\n    rgb(255, 124, 198) 53%,\n    rgb(243, 83, 113) 100%\n  );\n  transform: scale(1);\n  transition: 0.5s;\n}\n.play-button:hover {\n  transform: scale(0.9);\n  transition: 0.5s;\n}\n\n.play-button:active {\n  transform: scale(0.85);\n  transition: 0.1s;\n}\n@keyframes backgroung-image {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n.loading-background {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  object-fit: fill;\n  -webkit-user-drag: none;\n  animation-name: backgroung-image;\n  animation-duration: 10s;\n  animation-iteration-count: infinite;\n}\n</style>\n","import { render } from \"./Result.vue?vue&type=template&id=dfef2e50&scoped=true\"\nimport script from \"./Result.vue?vue&type=script&lang=js\"\nexport * from \"./Result.vue?vue&type=script&lang=js\"\n\nimport \"./Result.vue?vue&type=style&index=0&id=dfef2e50&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/charlotfirth/Documents/study/2022Spring/J2EE框架/大作业前端/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dfef2e50\"]])\n\nexport default __exports__","import { render } from \"./PlayInterface.vue?vue&type=template&id=d81e6c60&scoped=true\"\nimport script from \"./PlayInterface.vue?vue&type=script&lang=js\"\nexport * from \"./PlayInterface.vue?vue&type=script&lang=js\"\n\nimport \"./PlayInterface.vue?vue&type=style&index=0&id=d81e6c60&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/charlotfirth/Documents/study/2022Spring/J2EE框架/大作业前端/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d81e6c60\"]])\n\nexport default __exports__","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/engine-user-agent');\n\n// eslint-disable-next-line unicorn/no-unsafe-regex -- safe\nmodule.exports = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Prepare.vue?vue&type=style&index=0&id=78d5c148&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PlayInterface.vue?vue&type=style&index=0&id=d81e6c60&scoped=true&lang=css\""],"sourceRoot":""}