(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e389038"],{"013d":function(t,e,n){},1276:function(t,e,n){"use strict";var i=n("d784"),r=n("44e7"),a=n("825a"),o=n("1d80"),l=n("4840"),c=n("8aa5"),s=n("50c4"),u=n("14c3"),m=n("9263"),d=n("d039"),p=[].push,h=Math.min,b=4294967295,g=!d((function(){return!RegExp(b,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(o(this)),a=void 0===n?b:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,a);var l,c,s,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,d+"g");while(l=m.call(g,i)){if(c=g.lastIndex,c>h&&(u.push(i.slice(h,l.index)),l.length>1&&l.index<i.length&&p.apply(u,l.slice(1)),s=l[0].length,h=c,u.length>=a))break;g.lastIndex===l.index&&g.lastIndex++}return h===i.length?!s&&g.test("")||u.push(""):u.push(i.slice(h)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,n):i.call(String(r),e,n)},function(t,r){var o=n(i,t,this,r,i!==e);if(o.done)return o.value;var m=a(t),d=String(this),p=l(m,RegExp),A=m.unicode,f=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(g?"y":"g"),O=new p(g?m:"^(?:"+m.source+")",f),y=void 0===r?b:r>>>0;if(0===y)return[];if(0===d.length)return null===u(O,d)?[d]:[];var j=0,T=0,k=[];while(T<d.length){O.lastIndex=g?T:0;var v,x=u(O,g?d:d.slice(T));if(null===x||(v=h(s(O.lastIndex+(g?0:T)),d.length))===j)T=c(d,T,A);else{if(k.push(d.slice(j,T)),k.length===y)return k;for(var C=1;C<=x.length-1;C++)if(k.push(x[C]),k.length===y)return k;T=j=v}}return k.push(d.slice(j)),k}]}),!g)},"13da":function(t,e,n){"use strict";n.r(e);var i=n("7a23"),r=Object(i["fb"])("data-v-539221a2");Object(i["H"])("data-v-539221a2");var a={class:"play-interface select"},o={class:"header"},l={class:"header-buttons"},c=Object(i["m"])("返回"),s=Object(i["m"])("保存"),u=Object(i["m"])("保存并返回"),m={class:"select"},d=Object(i["n"])("canvas",{id:"track-canvas",style:{position:"absolute",top:"0",left:"0"}},null,-1),p=Object(i["n"])("canvas",{id:"note-canvas",style:{position:"absolute",top:"0",left:"0"}},null,-1),h=Object(i["n"])("canvas",{id:"judge-canvas",style:{position:"absolute",top:"0",left:"0"}},null,-1),b={class:"time-control-buttons"},g=Object(i["n"])("i",{class:"el-icon-full-screen"},null,-1),A=Object(i["n"])("i",{class:"el-icon-full-screen"},null,-1),f=Object(i["n"])("i",{class:"el-icon-refresh-left"},null,-1),O=Object(i["n"])("i",{class:"el-icon-video-pause"},null,-1),y=Object(i["n"])("i",{class:"el-icon-video-play"},null,-1),j=Object(i["n"])("i",{class:"el-icon-setting"},null,-1),T={class:"header-slide"},k={class:"header-slide-item"},v=Object(i["n"])("i",{class:"el-icon-question"},null,-1),x=Object(i["n"])("i",{class:"el-icon-question"},null,-1),C=Object(i["n"])("i",{class:"el-icon-question"},null,-1),w=Object(i["n"])("i",{class:"el-icon-question"},null,-1),E={style:{"margin-top":"15px"}},I=Object(i["m"])(" 精确计算一拍间隔 "),N=Object(i["n"])("i",{class:"el-icon-question"},null,-1),S=Object(i["n"])("br",null,null,-1),B={style:{"margin-top":"15px"}},M=Object(i["m"])(" 结束或重新测量 "),R=Object(i["m"])(" 开始时间点"),G=Object(i["m"])(" 结束时间点"),U=Object(i["n"])("div",null,null,-1),V={style:{color:"rgb(200,200,200)"}},W={style:{color:"rgb(150,150,150)"}},Q={style:{height:"calc(100% - 20px)",width:"100%"}};Object(i["F"])();var K=r((function(t,e,n,K,D,Z){var F=Object(i["N"])("el-button"),J=Object(i["N"])("MenuPanel"),X=Object(i["N"])("TrackPanel"),_=Object(i["N"])("Track"),L=Object(i["N"])("el-slider"),H=Object(i["N"])("el-input-number"),Y=Object(i["N"])("el-tooltip"),z=Object(i["N"])("el-form-item"),P=Object(i["N"])("el-col"),q=Object(i["N"])("el-form"),$=Object(i["N"])("el-dialog"),tt=Object(i["N"])("Footer");return Object(i["E"])(),Object(i["j"])("div",a,[Object(i["n"])("div",o,[Object(i["n"])("div",l,[Object(i["n"])("div",null,[Object(i["n"])(F,{size:"small",type:"text",class:"header-button",onClick:e[1]||(e[1]=function(e){return t.$router.go(-1)})},{default:r((function(){return[c]})),_:1})]),Object(i["n"])("div",null,[Object(i["n"])(F,{size:"small",type:"text",class:"header-button",onClick:e[2]||(e[2]=function(t){return Z.saveChart(!1)})},{default:r((function(){return[s]})),_:1}),Object(i["n"])(F,{size:"small",type:"text",class:"header-button",onClick:e[3]||(e[3]=function(t){return Z.saveChart(!0)})},{default:r((function(){return[u]})),_:1})])])]),Object(i["n"])(i["e"],{name:"fade","enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutLeft"},{default:r((function(){return[D.menuOpened?(Object(i["E"])(),Object(i["j"])("div",{key:0,class:D.menuOpened?"sider-opened":"sider-closed",style:{"--footerHeight":D.footerHeight+"px","--documentHeight":D.global.documentHeight+"px"}},[Object(i["n"])(J,{key:"menupanel",Height:D.global.documentHeight-D.footerHeight-50,footerHeight:D.footerHeight,global:D.global,chart:D.chart},null,8,["Height","footerHeight","global","chart"])],6)):Object(i["k"])("",!0)]})),_:1}),Object(i["n"])(i["e"],{name:"fade","enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutLeft"},{default:r((function(){return[D.menuOpened?(Object(i["E"])(),Object(i["j"])("div",{key:0,class:D.menuOpened?"sider-opened-track":"sider-closed-track",style:{"--footerHeight":D.footerHeight+"px","--documentHeight":D.global.documentHeight+"px"}},[Object(i["n"])(X,{key:"trackpanel",Height:D.global.documentHeight-D.footerHeight-50,Track:D.currentSelectTrack,global:D.global,chart:D.chart,onCurrentTrack:Z.currentTrack},null,8,["Height","Track","global","chart","onCurrentTrack"])],6)):Object(i["k"])("",!0)]})),_:1}),Object(i["n"])("div",m,[Object(i["n"])("div",{class:D.menuOpened?"container-small":"container-big",id:"play-interface-container",style:{"--footerHeight":D.footerHeight+"px","--documentHeight":D.global.documentHeight+"px"}},[Object(i["n"])("audio",{id:"audioSong",preload:"auto",controls:"",src:D.chart.songUrl,style:{display:"none"}},null,8,["src"]),(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(D.imagePath,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["cb"])(Object(i["n"])("img",{src:t.url,style:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%","object-fit":"fill","user-drag":"none"}},null,8,["src"]),[[i["Y"],D.global.currentTime>=t.startTime&&D.global.currentTime<=t.endTime]])])})),128)),Object(i["n"])("div",{style:{height:"2px",position:"absolute",left:"0px",top:D.global.screenHeight*D.global.finalY-1+"px",width:D.global.screenWidth+"px"}},[Object(i["n"])("div",{class:"white-line",style:{height:"100%",position:"absolute",left:(D.global.screenWidth-Z.whiteLineLength)/2+"px",width:Z.whiteLineLength+"px",background:"rgba(255,255,255,1)"}},null,4)],4),d,p,h,(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(D.chart.tracks,(function(t){return Object(i["E"])(),Object(i["j"])("div",{class:"play-interface-track-container",key:t},[Object(i["n"])("div",null,[D.global.currentTime>t.startTiming&&D.global.currentTime<t.endTiming?(Object(i["E"])(),Object(i["j"])(_,{key:0,Track:t,global:D.global},null,8,["Track","global"])):Object(i["k"])("",!0)])])})),128)),null!=D.currentSelectTrack&&D.global.currentTime>D.currentSelectTrack.startTiming&&D.global.currentTime<D.currentSelectTrack.endTiming&&D.currentSelectTrack.tempPositionX>=0&&D.currentSelectTrack.tempPositionX<=1?(Object(i["E"])(),Object(i["j"])("div",{key:0,class:"selected-track",style:{position:"absolute",top:"0px",left:(D.currentSelectTrack.tempPositionX-D.currentSelectTrack.tempWidth)*D.global.screenWidth+"px",width:2*D.currentSelectTrack.tempWidth*D.global.screenWidth-4+"px",height:D.global.finalY*D.global.screenHeight-2+"px",border:"2px solid rgba(255,255,255,1)",background:"rgba(255,255,255,0.2)"}},null,4)):Object(i["k"])("",!0)],6)]),D.chartGot?(Object(i["E"])(),Object(i["j"])("div",{key:0,class:D.menuOpened?"time-controller-small":"time-controller-big",style:{"--footerHeight":D.footerHeight+"px","--documentHeight":D.global.documentHeight+"px"}},[Object(i["n"])("div",b,[D.menuOpened?(Object(i["E"])(),Object(i["j"])(F,{key:1,size:"small",class:"header-button",onClick:Z.changeMenuDisplay,type:"text"},{default:r((function(){return[A]})),_:1},8,["onClick"])):(Object(i["E"])(),Object(i["j"])(F,{key:0,size:"small",class:"header-button",onClick:Z.changeMenuDisplay,type:"text"},{default:r((function(){return[g]})),_:1},8,["onClick"])),Object(i["n"])(F,{size:"small",onClick:Z.reStart,class:"header-button",type:"text"},{default:r((function(){return[f]})),_:1},8,["onClick"]),D.isRunning?(Object(i["E"])(),Object(i["j"])(F,{key:2,size:"small",class:"header-button",onClick:Z.pause,type:"text"},{default:r((function(){return[O]})),_:1},8,["onClick"])):(Object(i["E"])(),Object(i["j"])(F,{key:3,size:"small",class:"header-button",onClick:Z.play,type:"text"},{default:r((function(){return[y]})),_:1},8,["onClick"])),Object(i["n"])(F,{size:"small",type:"text",class:"header-button",onClick:e[4]||(e[4]=function(t){return D.globalSetting=!0})},{default:r((function(){return[j]})),_:1})]),Object(i["n"])("div",T,[Object(i["n"])("div",k,[Object(i["n"])(L,{modelValue:D.global.currentTime,"onUpdate:modelValue":e[5]||(e[5]=function(t){return D.global.currentTime=t}),min:D.displayStart,max:D.displayEnd,onChange:Z.changeTime,onMousedown:Z.SlideMouseDown,onMouseup:Z.SlideMouseUp,onTouchstart:Z.SlideMouseDown,onTouchend:Z.SlideMouseUp},null,8,["modelValue","min","max","onChange","onMousedown","onMouseup","onTouchstart","onTouchend"])])]),Object(i["n"])($,{modelValue:D.globalSetting,"onUpdate:modelValue":e[14]||(e[14]=function(t){return D.globalSetting=t}),onClose:Z.checkbpm,onClosed:e[15]||(e[15]=function(t){return D.globalSetting=!1}),width:"650px"},{default:r((function(){return[Object(i["n"])(q,{model:D.form,"label-width":"200px",style:{padding:"20px"}},{default:r((function(){return[Object(i["n"])(z,{label:"音量"},{default:r((function(){return[Object(i["n"])(H,{modelValue:D.volume,"onUpdate:modelValue":e[6]||(e[6]=function(t){return D.volume=t}),min:0,max:100,onChange:Z.changeVolume},null,8,["modelValue","onChange"]),Object(i["n"])(Y,{class:"item",effect:"dark",content:"按键盘上下键同样可以调节音量",placement:"top-start",style:{"margin-left":"10px"}},{default:r((function(){return[v]})),_:1})]})),_:1}),Object(i["n"])(z,{label:"首拍偏移(单位:ms)"},{default:r((function(){return[Object(i["n"])(H,{modelValue:D.chart.firstBeatDelay,"onUpdate:modelValue":e[7]||(e[7]=function(t){return D.chart.firstBeatDelay=t}),min:0,max:D.chart.songLength},null,8,["modelValue","max"]),Object(i["n"])(Y,{class:"item",effect:"dark",content:"第一拍的偏移，在一拍间隔部分可以顺带测量，你也可以选择使用音频软件观察声波自行填写",placement:"top-start",style:{"margin-left":"10px"}},{default:r((function(){return[x]})),_:1})]})),_:1}),Object(i["n"])(z,{label:"末拍偏移(单位:ms)"},{default:r((function(){return[Object(i["n"])(H,{modelValue:D.chart.lastBeatDelay,"onUpdate:modelValue":e[8]||(e[8]=function(t){return D.chart.lastBeatDelay=t}),min:0,max:D.chart.songLength},null,8,["modelValue","max"]),Object(i["n"])(Y,{class:"item",effect:"dark",content:"最后一拍的偏移，你可以填写好精确的第一拍和最后一拍的偏移和节拍数，然后直接计算出一拍间隔",placement:"top-start",style:{"margin-left":"10px"}},{default:r((function(){return[C]})),_:1})]})),_:1}),Object(i["n"])(z,{label:"节拍数"},{default:r((function(){return[Object(i["n"])(H,{modelValue:D.chart.beatsCount,"onUpdate:modelValue":e[9]||(e[9]=function(t){return D.chart.beatsCount=t}),min:0,max:D.chart.songLength},null,8,["modelValue","max"]),Object(i["n"])(Y,{class:"item",effect:"dark",content:"用以计算一拍间隔,注意填写的是拍与拍的间隔数（线段)，而不是节奏点数（端点)",placement:"top-start",style:{"margin-left":"10px"}},{default:r((function(){return[w]})),_:1}),Object(i["n"])("div",E,[Object(i["n"])(Y,{class:"item",effect:"dark",content:"计算公式为（末拍偏移-首拍偏移)/节拍数",placement:"top-start"},{default:r((function(){return[Object(i["n"])(F,{onClick:Z.ManualCalculatebpm},{default:r((function(){return[I]})),_:1},8,["onClick"])]})),_:1})])]})),_:1}),Object(i["n"])(z,{label:"一拍间隔(单位:ms)"},{default:r((function(){return[Object(i["n"])(H,{modelValue:D.chart.bpm,"onUpdate:modelValue":e[10]||(e[10]=function(t){return D.chart.bpm=t}),min:0,max:D.chart.songLength},null,8,["modelValue","max"]),Object(i["n"])(Y,{class:"item",effect:"dark",content:"一个节拍的长度，拖动音符时，音符将会依附到最近的1/16节拍时间点上，轻点下方按钮即可大致估算出一拍的长度，但仍然建议自己精确填写首拍和末拍偏移计算",placement:"top-start",style:{"margin-left":"10px"}},{default:r((function(){return[N]})),_:1}),S,Object(i["n"])("div",B,[Object(i["n"])(F,{onMousedown:Z.calculatebpm},{default:r((function(){return[Object(i["m"])(Object(i["R"])(D.bpmStart?"请在节奏点处按下":"粗略估算一拍间隔"),1)]})),_:1},8,["onMousedown"]),D.bpmStart?(Object(i["E"])(),Object(i["j"])(F,{key:0,onClick:Z.endbpm},{default:r((function(){return[M]})),_:1},8,["onClick"])):Object(i["k"])("",!0)])]})),_:1}),Object(i["n"])(z,{label:"显示时间区域"},{default:r((function(){return[Object(i["n"])(P,{span:12},{default:r((function(){return[R,Object(i["n"])(H,{modelValue:D.displayStart,"onUpdate:modelValue":e[11]||(e[11]=function(t){return D.displayStart=t}),min:0,max:D.chart.songLength},null,8,["modelValue","max"])]})),_:1}),Object(i["n"])(P,{span:12},{default:r((function(){return[G,Object(i["n"])(H,{modelValue:D.displayEnd,"onUpdate:modelValue":e[12]||(e[12]=function(t){return D.displayEnd=t}),min:0,max:D.chart.songLength},null,8,["modelValue","max"])]})),_:1})]})),_:1}),Object(i["n"])(z,{label:""},{default:r((function(){return[Object(i["n"])(L,{modelValue:D.global.currentTime,"onUpdate:modelValue":e[13]||(e[13]=function(t){return D.global.currentTime=t}),range:"",min:0,max:D.chart.songLength,onChange:Z.changeDisplayArea},null,8,["modelValue","max","onChange"])]})),_:1})]})),_:1},8,["model"]),U]})),_:1},8,["modelValue","onClose"])],6)):Object(i["k"])("",!0),Object(i["n"])(i["e"],{name:"fade","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutDown"},{default:r((function(){return[D.menuOpened&&D.chartGot?(Object(i["E"])(),Object(i["j"])("div",{key:0,class:D.menuOpened?"footer-opened":"footer-closed",style:{"--footerHeight":D.footerHeight+"px","--documentHeight":D.global.documentHeight+"px"}},[Object(i["n"])("div",{style:{height:"15px",width:"100%",cursor:"ns-resize","text-align":"center","padding-top":"5px","font-size":"15px"},id:"footer-resizer",onMousedown:e[16]||(e[16]=function(t){return D.canDrag=!0})},[Object(i["n"])("span",V,Object(i["R"])(D.global.currentTime),1),Object(i["n"])("span",W,"/"+Object(i["R"])(D.chart.songLength),1)],32),Object(i["n"])("div",Q,[Object(i["n"])(tt,{chart:D.chart,global:D.global,onCurrentTrack:Z.currentTrack},null,8,["chart","global","onCurrentTrack"])])],6)):Object(i["k"])("",!0)]})),_:1})])})),D=n("1da1"),Z=(n("96cf"),n("38cf"),n("49d9")),F={class:"menu-panel-container"},J={style:{background:"rgb(32, 32, 32)",height:"70px"}},X=Object(i["n"])("h4",{style:{padding:"5px","padding-top":"10px","padding-bottom":"5x",color:"rgb(225,225,225)","padding-left":"10px"}}," 背景操作 ",-1),_=Object(i["n"])("hr",{style:{border:"0.5px solid rgba(100,100,100,0.1)"}},null,-1),L={style:{width:"100%",height:"20px",padding:"5px",display:"flex","justify-content":"space-between","align-items":"center"}},H=Object(i["m"])("新增");function Y(t,e,n,r,a,o){var l=Object(i["N"])("el-button"),c=Object(i["N"])("BackgroundOperation");return Object(i["E"])(),Object(i["j"])("div",F,[Object(i["n"])("div",J,[X,_,Object(i["n"])("div",L,[Object(i["n"])("div",null,[Object(i["n"])(l,{type:"text",style:{"margin-left":"10px"},class:"plus-button",icon:"el-icon-circle-plus",onClick:o.newOperation},{default:Object(i["bb"])((function(){return[H]})),_:1},8,["onClick"])]),Object(i["n"])("div",null,[Object(i["n"])(l,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[1]||(e[1]=function(t){return a.autoScroll=!a.autoScroll})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.autoScroll?"关闭滚动":"开启滚动"),1)]})),_:1}),Object(i["n"])(l,{type:"text",class:"show-button",style:{"margin-right":"13px"},onClick:e[2]||(e[2]=function(t){return a.operationShowAll=!a.operationShowAll})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.operationShowAll?"显示当前":"显示全部"),1)]})),_:1})])])]),Object(i["n"])("div",{class:"menu-container-container",style:{height:n.Height-70+"px"}},[Object(i["n"])(i["f"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.chart.changeBackgroundOperations,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(i["e"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[Object(i["cb"])(Object(i["n"])(c,{id:"backgroundOperation"+t.index,chart:n.chart,operation:t,global:n.global,onEditStatus:o.editStatus},null,8,["id","chart","operation","global","onEditStatus"]),[[i["Y"],a.operationShowAll||n.global.currentTime>t.startTime&&n.global.currentTime<t.endTime]])]})),_:2},1024)])})),128))]})),_:1})],4)])}var z={style:{width:"100%",display:"flex","justify-content":"space-between",border:"none"}},P={style:{width:"calc(100% - 80px)"}},q={style:{width:"100%",height:"20px",display:"flex","justify-content":"space-between","align-items":"center","line-height":"20px"}},$={style:{"font-weight":"800"}},tt={style:{width:"100%","margin-top":"10px"}},et=Object(i["n"])("i",{class:"el-icon-question"},null,-1),nt=Object(i["n"])("i",{class:"el-icon-question"},null,-1);function it(t,e,n,r,a,o){var l=Object(i["N"])("el-image"),c=Object(i["N"])("el-button"),s=Object(i["N"])("el-input"),u=Object(i["N"])("el-tooltip"),m=Object(i["N"])("el-form-item"),d=Object(i["N"])("el-upload"),p=Object(i["N"])("el-form");return Object(i["E"])(),Object(i["j"])("div",{class:o.currentClass},[Object(i["n"])("div",z,[Object(i["n"])("div",null,[Object(i["n"])(l,{style:{width:"70px",height:"70px","border-radius":"5px"},src:n.operation.background,fit:"fit",class:"image","preview-src-list":[n.operation.background]},null,8,["src","preview-src-list"])]),Object(i["n"])("div",P,[Object(i["n"])("div",q,[Object(i["n"])("div",$,"操作"+Object(i["R"])(n.operation.index+1),1),Object(i["n"])("div",null,[a.myOperation.edit?Object(i["k"])("",!0):(Object(i["E"])(),Object(i["j"])(c,{key:0,type:"text",class:"edit-button",icon:"el-icon-s-tools",onClick:o.startEdit},null,8,["onClick"])),a.myOperation.edit&&!a.myOperation.isNew?(Object(i["E"])(),Object(i["j"])(c,{key:1,type:"text",class:"cancel-button",icon:"el-icon-error",onClick:e[1]||(e[1]=function(t){return a.myOperation.edit=!1})})):Object(i["k"])("",!0),a.myOperation.edit?(Object(i["E"])(),Object(i["j"])(c,{key:2,type:"text",class:"ok-button",icon:"el-icon-success",onClick:o.saveOperation},null,8,["onClick"])):Object(i["k"])("",!0),Object(i["n"])(c,{type:"text",class:"delete-button",icon:"el-icon-remove",onClick:o.deleteOperation},null,8,["onClick"])])]),Object(i["n"])("div",tt,[Object(i["n"])("h4",null,"时机 "+Object(i["R"])(a.myOperation.startTime),1)])])]),Object(i["n"])(i["e"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[Object(i["cb"])(Object(i["n"])("div",null,[Object(i["n"])(p,{model:a.tempOperation,rules:a.rules,ref:"form",onSubmit:Object(i["eb"])(o.saveOperation,["prevent"])},{default:Object(i["bb"])((function(){return[Object(i["n"])(m,{label:"时机","label-width":"80px",prop:"startTime"},{default:Object(i["bb"])((function(){return[Object(i["n"])(s,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.tempOperation.startTime,"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.tempOperation.startTime=t}),style:{width:"100px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置操作的时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[et]})),_:1})]})),_:1}),Object(i["n"])(m,{label:"背景","label-width":"80px",prop:"background"},{default:Object(i["bb"])((function(){return[Object(i["n"])(s,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.tempOperation.background,"onUpdate:modelValue":e[3]||(e[3]=function(t){return a.tempOperation.background=t}),style:{width:"100px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"输入背景图片的url，您也可以点击下方按钮上传自己的图片至服务器",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[nt]})),_:1})]})),_:1}),Object(i["n"])(m,{label:"手动上传","label-width":"80px"},{default:Object(i["bb"])((function(){return[Object(i["n"])(d,{class:"upload-demo",action:"http://47.113.89.104:8090/chart/uploadBackground","with-credentials":!0,name:"background",data:{songId:t.$route.query.songId,startTime:a.tempOperation.startTime},"on-success":o.handleUploadSuccess,disabled:""==a.tempOperation.startTime},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{size:"small",disabled:""==a.tempOperation.startTime},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(""==a.tempOperation.startTime?"请先填写时机":"点击上传"),1)]})),_:1},8,["disabled"])]})),_:1},8,["data","on-success","disabled"])]})),_:1})]})),_:1},8,["model","rules","onSubmit"])],512),[[i["Y"],a.myOperation.edit]])]})),_:1})],2)}n("d3b7"),n("25f0"),n("a434");var rt={props:["operation","global","chart"],data:function(){var t=this,e=function(e,n,i){if(!n)return i(new Error("时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("时机不能小于0")):n>t.chart.songLength?i(new Error("时机不能超过歌曲长度")):i()};return{myOperation:this.operation,myGlobal:this.global,myChart:this.chart,tempOperation:{},form:{},rules:{startTime:[{required:!0,validator:e,trigger:"blur"}],background:[{required:!0,trigger:"blur"}]}}},created:function(){this.myOperation.edit=!1},methods:{updateOperation:function(){this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},startEdit:function(){this.myOperation.edit=!0,this.tempOperation=JSON.parse(JSON.stringify(this.myOperation))},handleUploadSuccess:function(t){this.tempOperation.background=t.data.background,this.$notify({title:"上传成功",message:"图片已上传至服务器",type:"success"}),this.saveOperation()},saveOperation:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;for(var n in setTimeout((function(){t.updateOperation()}),500),t.$emit("editStatus",!0),t.tempOperation)t.myOperation[n]=t.tempOperation[n];t.myOperation.edit=!1,t.myOperation.isNew=!1}))},deleteOperation:function(){var t=this;this.$confirm("您确定删除该操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.myOperation.isNew&&t.$emit("editStatus",!0),t.myChart.changeBackgroundOperations.splice(t.myOperation.index,1),t.updateOperation(),t.$notify({title:"成功",message:"删除成功",type:"success"})}))}},computed:{currentClass:function(){var t="";return t=this.myOperation.edit?"edit ":"not-edit ",this.global.currentTime>this.operation.startTime&&this.global.currentTime<this.operation.endTime?t+="current-operation":this.global.currentTime>this.operation.endTime?t+="passed-operation":t+="to-come-operation ",t}}},at=(n("3ccb"),n("d959")),ot=n.n(at);const lt=ot()(rt,[["render",it]]);var ct=lt,st=(n("77ed"),{props:["chart","global","Height"],data:function(){return{operationShowAll:!0,autoScroll:!0,myChart:this.chart,myGlobal:this.global,editFinished:!0}},components:{BackgroundOperation:ct},watch:{chart:function(){this.myChart=this.chart},"global.currentTime":function(){var t=this;if(this.autoScroll)for(var e=0;e<this.chart.changeBackgroundOperations.length;e++)if(this.global.currentTime>this.chart.changeBackgroundOperations[e].startTime&&this.global.currentTime<this.chart.changeBackgroundOperations[e].endTime){e>0?setTimeout((function(){document.querySelector("#backgroundOperation"+t.chart.changeBackgroundOperations[e-1].index).scrollIntoView(!0)}),200):setTimeout((function(){document.querySelector("#backgroundOperation"+t.chart.changeBackgroundOperations[0].index).scrollIntoView(!0)}),200);break}}},methods:{updateOperation:function(){this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},editStatus:function(t){this.editFinished=t},newOperation:function(){var t=this;if(this.editFinished){this.editFinished=!1;var e={startTime:0,isNew:!0,background:this.myChart.defaultBackground};this.myChart.changeBackgroundOperations.push(e),this.updateOperation(),document.querySelector("#backgroundOperation0").scrollIntoView(!0),setTimeout((function(){t.myChart.changeBackgroundOperations[0].edit=!0}),10)}else{this.$notify({title:"提示",message:"请先完成正在编辑的操作",type:"warning"});for(var n=0;n<this.myChart.changeBackgroundOperations.length;n++)if(this.myChart.changeBackgroundOperations[n].edit){document.querySelector("#backgroundOperation"+n).scrollIntoView(!0);break}}}}});n("9810");const ut=ot()(st,[["render",Y]]);var mt=ut,dt={class:"track-panel-container"},pt={style:{background:"rgb(32, 32, 32)",height:"70px"}},ht=Object(i["n"])("h4",{style:{padding:"5px","padding-top":"10px","padding-bottom":"5x",color:"rgb(225,225,225)","padding-left":"10px"}}," 轨道列表 ",-1),bt=Object(i["n"])("hr",{style:{border:"0.5px solid rgba(100,100,100,0.1)"}},null,-1),gt={style:{width:"100%",height:"20px",padding:"5px",display:"flex","justify-content":"space-between","align-items":"center"}},At=Object(i["m"])("新增");function ft(t,e,n,r,a,o){var l=Object(i["N"])("el-button"),c=Object(i["N"])("TrackCard");return Object(i["E"])(),Object(i["j"])("div",dt,[Object(i["n"])("div",pt,[ht,bt,Object(i["n"])("div",gt,[Object(i["n"])("div",null,[Object(i["n"])(l,{type:"text",style:{"margin-left":"10px"},class:"plus-button",icon:"el-icon-circle-plus",onClick:o.newTrack},{default:Object(i["bb"])((function(){return[At]})),_:1},8,["onClick"])]),Object(i["n"])("div",null,[Object(i["n"])(l,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[1]||(e[1]=function(t){return a.autoScroll=!a.autoScroll})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.autoScroll?"关闭滚动":"开启滚动"),1)]})),_:1}),Object(i["n"])(l,{type:"text",class:"show-button",style:{"margin-right":"13px"},onClick:e[2]||(e[2]=function(t){return a.trackShowAll=!a.trackShowAll})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.trackShowAll?"显示当前":"显示全部"),1)]})),_:1})])])]),n.chart.tracks?(Object(i["E"])(),Object(i["j"])("div",{key:0,class:"track-container-container",style:{height:n.Height-70+"px"}},[Object(i["n"])(i["f"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.chart.tracks,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(i["e"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[Object(i["cb"])(Object(i["n"])(c,{chart:n.chart,track:t,global:n.global,id:"trackCard"+t.index,onEditStatus:o.editStatus,onCurrentTrack:o.currentTrack},null,8,["chart","track","global","id","onEditStatus","onCurrentTrack"]),[[i["Y"],a.trackShowAll||n.global.currentTime>t.startTiming&&n.global.currentTime<t.endTiming]])]})),_:2},1024)])})),128))]})),_:1})],4)):Object(i["k"])("",!0)])}var Ot={style:{width:"100%",display:"flex","justify-content":"space-between",border:"none"}},yt={style:{width:"70px",height:"70px","border-radius":"5px",position:"relative","pointer-events":"none"}},jt={style:{position:"absolute",top:"0",left:"0",width:"70px",height:"70px","border-radius":"5px","text-align":"center","line-height":"70px",color:"white","text-shadow":"2px 2px 5px black","font-size":"50px"}},Tt={style:{width:"calc(100% - 80px)"}},kt={style:{width:"100%",height:"20px",display:"flex","justify-content":"space-between","align-items":"center","line-height":"20px"}},vt={style:{"font-weight":"800"}},xt={style:{width:"100%","margin-top":"10px"}},Ct={style:{"margin-top":"20px"}},wt=Object(i["m"])("虚轨"),Et=Object(i["m"])("实轨"),It=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Nt=Object(i["n"])("i",{class:"el-icon-question"},null,-1),St=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Bt=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Mt=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Rt=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Gt=Object(i["n"])("i",{class:"el-icon-question"},null,-1);function Ut(t,e,r,a,o,l){var c=Object(i["N"])("el-image"),s=Object(i["N"])("el-button"),u=Object(i["N"])("el-tooltip"),m=Object(i["N"])("el-radio"),d=Object(i["N"])("el-radio-group"),p=Object(i["N"])("el-form-item"),h=Object(i["N"])("el-input"),b=Object(i["N"])("el-color-picker"),g=Object(i["N"])("el-form");return Object(i["E"])(),Object(i["j"])("div",{class:l.currentClass,onDblclick:e[10]||(e[10]=function(){return l.currentTrack&&l.currentTrack.apply(l,arguments)})},[Object(i["n"])("div",Ot,[Object(i["n"])("div",yt,[Object(i["n"])(c,{style:{position:"absolute",top:"0",left:"0",width:"70px",height:"70px","border-radius":"5px"},src:n("a953"),fit:"fit",class:"image"},null,8,["src"]),Object(i["n"])("div",jt,Object(i["R"])(1==o.myTrack.type?o.myTrack.key.toUpperCase():"虚"),1),r.global.currentTime>r.track.startTiming&&r.global.currentTime<r.track.endTiming?(Object(i["E"])(),Object(i["j"])("div",{key:0,style:{position:"absolute",height:"70px",top:0,left:160*(o.myTrack.tempPositionX-o.myTrack.tempWidth)+75+"px",width:2*o.myTrack.tempWidth*160+"px",background:"rgba("+o.myTrack.tempR+","+o.myTrack.tempG+","+o.myTrack.tempB+",0.5)"}},null,4)):Object(i["k"])("",!0)]),Object(i["n"])("div",Tt,[Object(i["n"])("div",kt,[Object(i["n"])("div",vt,"轨道"+Object(i["R"])(r.track.index+1),1),Object(i["n"])("div",null,[Object(i["n"])(u,{class:"item",effect:"dark",content:o.myTrack.showInTimeline?"在时间轴中隐去":"在时间轴中显示",placement:"top"},{default:Object(i["bb"])((function(){return[Object(i["n"])(s,{type:"text",class:"hide-button",icon:o.myTrack.showInTimeline?"el-icon-minus":"el-icon-view",onClick:e[1]||(e[1]=function(t){return o.myTrack.showInTimeline=!o.myTrack.showInTimeline})},null,8,["icon"])]})),_:1},8,["content"]),o.myTrack.edit?Object(i["k"])("",!0):(Object(i["E"])(),Object(i["j"])(s,{key:0,type:"text",class:"edit-button",icon:"el-icon-s-tools",onClick:l.startEdit},null,8,["onClick"])),o.myTrack.edit&&!o.myTrack.isNew?(Object(i["E"])(),Object(i["j"])(s,{key:1,type:"text",class:"cancel-button",icon:"el-icon-error",onClick:e[2]||(e[2]=function(t){return o.myTrack.edit=!1})})):Object(i["k"])("",!0),o.myTrack.edit?(Object(i["E"])(),Object(i["j"])(s,{key:2,type:"text",class:"ok-button",icon:"el-icon-success",onClick:l.saveTrack},null,8,["onClick"])):Object(i["k"])("",!0),Object(i["n"])(s,{type:"text",class:"delete-button",icon:"el-icon-remove",onClick:l.deleteTrack},null,8,["onClick"])])]),Object(i["n"])("div",xt,[Object(i["n"])("h4",null,"时机 "+Object(i["R"])(o.myTrack.startTiming),1)])])]),Object(i["n"])(i["e"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[Object(i["cb"])(Object(i["n"])("div",Ct,[Object(i["n"])(g,{model:o.myTrack.tempTrack,rules:o.rules,ref:"form",onSubmit:Object(i["eb"])(l.saveTrack,["prevent"])},{default:Object(i["bb"])((function(){return[Object(i["n"])(p,{label:"轨道类别","label-width":"80px",prop:"type"},{default:Object(i["bb"])((function(){return[Object(i["n"])(d,{modelValue:o.myTrack.tempTrack.type,"onUpdate:modelValue":e[3]||(e[3]=function(t){return o.myTrack.tempTrack.type=t}),style:{width:"130px","line-height":"20px"}},{default:Object(i["bb"])((function(){return[Object(i["n"])(m,{label:0},{default:Object(i["bb"])((function(){return[wt]})),_:1}),Object(i["n"])(m,{label:1},{default:Object(i["bb"])((function(){return[Et]})),_:1})]})),_:1},8,["modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置轨道的类别，如果是虚轨，则轨道下方不会出现提示字母，如果虚轨上有音符，请您确认在音符对应的时机该轨道移动到音符字母对应的实轨上",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[It]})),_:1})]})),_:1}),Object(i["n"])(p,{label:"按键","label-width":"80px",prop:"key"},{default:Object(i["bb"])((function(){return[Object(i["n"])(h,{onKeydown:Object(i["db"])(l.saveTrack,["enter"]),modelValue:o.myTrack.tempTrack.key,"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.myTrack.tempTrack.key=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置轨道的按键，请输入单个字母，不区分大小写",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Nt]})),_:1})]})),_:1}),Object(i["n"])(p,{label:"开始时机","label-width":"80px",prop:"startTiming"},{default:Object(i["bb"])((function(){return[Object(i["n"])(h,{onKeydown:Object(i["db"])(l.saveTrack,["enter"]),modelValue:o.myTrack.tempTrack.startTiming,"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.myTrack.tempTrack.startTiming=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置轨道的开始时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[St]})),_:1})]})),_:1}),Object(i["n"])(p,{label:"结束时机","label-width":"80px",prop:"endTiming"},{default:Object(i["bb"])((function(){return[Object(i["n"])(h,{onKeydown:Object(i["db"])(l.saveTrack,["enter"]),modelValue:o.myTrack.tempTrack.endTiming,"onUpdate:modelValue":e[6]||(e[6]=function(t){return o.myTrack.tempTrack.endTiming=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置轨道的结束时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Bt]})),_:1})]})),_:1}),Object(i["n"])(p,{label:"横坐标","label-width":"80px",prop:"positionX"},{default:Object(i["bb"])((function(){return[Object(i["n"])(h,{onKeydown:Object(i["db"])(l.saveTrack,["enter"]),modelValue:o.myTrack.tempTrack.positionX,"onUpdate:modelValue":e[7]||(e[7]=function(t){return o.myTrack.tempTrack.positionX=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置轨道的横坐标，请输入一个小数，代表轨道横坐标占画面全宽的比例",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Mt]})),_:1})]})),_:1}),Object(i["n"])(p,{label:"宽度","label-width":"80px",prop:"width"},{default:Object(i["bb"])((function(){return[Object(i["n"])(h,{onKeydown:Object(i["db"])(l.saveTrack,["enter"]),modelValue:o.myTrack.tempTrack.width,"onUpdate:modelValue":e[8]||(e[8]=function(t){return o.myTrack.tempTrack.width=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置轨道的宽度，您输入的数值是宽度的一半，它是轨道一半的宽度占整个画面的比例",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Rt]})),_:1})]})),_:1}),Object(i["n"])(p,{label:"默认颜色","label-width":"80px",prop:"color"},{default:Object(i["bb"])((function(){return[Object(i["n"])(b,{modelValue:o.myTrack.tempTrack.color,"onUpdate:modelValue":e[9]||(e[9]=function(t){return o.myTrack.tempTrack.color=t}),"color-format":"rgb"},null,8,["modelValue"]),Object(i["n"])(u,{class:"item",effect:"dark",content:"设置轨道的默认颜色",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Gt]})),_:1})]})),_:1})]})),_:1},8,["model","rules","onSubmit"])],512),[[i["Y"],o.myTrack.edit]])]})),_:1})],34)}n("ac1f"),n("1276");var Vt={props:["track","global","chart"],data:function(){var t=this,e=function(t,e,n){if(!e)return n(new Error("按键不能为空"));var i=/^[A-Za-z]$/;i.test(e)?n():n(new Error("按键必须是单个字母"))},n=function(e,n,i){if(0!=n&&!n)return i(new Error("开始时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<=0?i(new Error("开始时机不能小于0")):n>t.chart.songLength?i(new Error("开始时机不能超过歌曲长度")):n>t.myTrack.tempTrack.endTiming?(console.log(t.myTrack.tempTrack.endTiming),i(new Error("开始时机不能超过结束时机"))):i()},i=function(e,n,i){if(0!=n&&!n)return i(new Error("结束时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("时机不能小于0")):n>t.chart.songLength?i(new Error("时机不能超过歌曲长度")):i()},r=function(t,e,n){if(!e)return n(new Error("宽度不能为空"));"NaN"==parseFloat(e).toString()?n(new Error("请输入数字值")):n()},a=function(t,e,n){if(!e)return n(new Error("横坐标不能为空"));"NaN"==parseFloat(e).toString()?n(new Error("请输入数字值")):n()};return{myTrack:this.track,myGlobal:this.global,myChart:this.chart,form:{},rules:{type:[{required:!0,message:"请选择轨道类别",trigger:"blur"}],key:[{required:!0,validator:e,trigger:"blur"}],startTiming:[{required:!0,validator:n,trigger:"blur"}],endTiming:[{required:!0,validator:i,trigger:"blur"}],width:[{required:!0,validator:r,trigger:"blur"}],positionX:[{required:!0,validator:a,trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}]}}},created:function(){this.myTrack.edit=!1,this.myTrack.showInTimeline=!0,this.myTrack.tempTrack=JSON.parse(JSON.stringify(this.myTrack)),delete this.myTrack.tempTrack.tempTrack,this.myTrack.tempTrack.key=this.myTrack.tempTrack.key.toUpperCase(),this.myTrack.tempTrack.color="rgb("+this.myTrack.R+","+this.myTrack.G+","+this.myTrack.B+")"},methods:{updateTrack:function(){this.myGlobal.reCalculateTrack=!this.myGlobal.reCalculateTrack,this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},currentTrack:function(){this.$emit("currentTrack",this.myTrack),this.startEdit()},startEdit:function(){this.myTrack.edit=!0,document.querySelector("#trackCard"+this.myTrack.index).scrollIntoView(!0),this.myTrack.tempTrack=JSON.parse(JSON.stringify(this.myTrack)),delete this.myTrack.tempTrack.tempTrack,this.myTrack.tempTrack.key=this.myTrack.tempTrack.key.toUpperCase(),this.myTrack.tempTrack.color="rgb("+this.myTrack.R+","+this.myTrack.G+","+this.myTrack.B+")"},saveTrack:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;for(var n in setTimeout((function(){t.updateTrack()}),500),t.myTrack.tempTrack)"tempTrack"!=n&&(t.myTrack[n]=t.myTrack.tempTrack[n]);t.myTrack.key=t.myTrack.key.toUpperCase();var i=t.myTrack.tempTrack.color.substring(4,t.myTrack.tempTrack.color.length-1).split(",");t.myTrack.R=i[0],t.myTrack.G=i[1],t.myTrack.B=i[2],t.myTrack.edit=!1,t.myTrack.isNew&&t.$emit("editStatus",!0),t.myTrack.isNew=!1}))},deleteTrack:function(){var t=this;this.$confirm("您确定删除该轨道?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.myTrack.isNew&&t.$emit("editStatus",!0),t.myChart.tracks.splice(t.myTrack.index,1),t.updateTrack(),t.$notify({title:"成功",message:"删除成功",type:"success"})}))}},computed:{currentClass:function(){var t="";return t=this.myTrack.edit?"edit-track ":"not-edit-track ",this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming?t+="current-track":this.global.currentTime>this.track.endTiming?t+="passed-track":t+="to-come-track",t}}};n("9e6c");const Wt=ot()(Vt,[["render",Ut]]);var Qt=Wt,Kt={props:["chart","global","Height"],data:function(){return{editFinished:!0,trackShowAll:!0,autoScroll:!0,myChart:this.chart,myGlobal:this.global}},components:{TrackCard:Qt},watch:{"global.currentTime":function(){var t=this;if(this.autoScroll)for(var e=this.chart.tracks.length-1;e>=0;e--)if(this.global.currentTime>this.chart.tracks[e].startTiming&&this.global.currentTime<this.chart.tracks[e].endTiming){e>2?setTimeout((function(){document.querySelector("#trackCard"+t.chart.tracks[e-2].index).scrollIntoView(!0)}),200):setTimeout((function(){document.querySelector("#trackCard"+t.chart.tracks[0].index).scrollIntoView(!0)}),200);break}},chart:function(){this.myChart=this.chart}},methods:{currentTrack:function(t){this.$emit("currentTrack",t)},editStatus:function(t){this.editFinished=t},updateOperation:function(){this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},newTrack:function(){var t=this;if(this.editFinished){this.editFinished=!1;var e={startTiming:0,endTiming:150,isNew:!0,type:1,key:"D",R:"160",G:"160",B:"160",background:this.myChart.defaultBackground,notes:[],moveOperations:[],changeWidthOperations:[],changeColorOperations:[]};this.myChart.tracks.push(e),this.myGlobal.timeSort=!0,this.updateOperation(),document.querySelector("#trackCard0").scrollIntoView(!0),setTimeout((function(){t.myChart.tracks[0].edit=!0}),10)}else{this.$notify({title:"提示",message:"请先完成正在编辑的轨道",type:"warning"});for(var n=0;n<this.myChart.tracks.length;n++)if(this.myChart.tracks[n].edit){document.querySelector("#trackCard"+n).scrollIntoView(!0);break}}}}};n("797e");const Dt=ot()(Kt,[["render",ft]]);var Zt=Dt,Ft={class:"footer-container"},Jt={class:"footer-header"},Xt={class:"footer-header-left"},_t=Object(i["m"])("双击短键"),Lt=Object(i["m"])("双击长键"),Ht=Object(i["m"])("双击滑键"),Yt=Object(i["m"])("单击删除"),zt={class:"footer-header-right"},Pt={key:0},qt={class:"footer-left"},$t={style:{position:"absolute",left:"0",top:"0"}};function te(t,e,n,r,a,o){var l=this,c=Object(i["N"])("el-button"),s=Object(i["N"])("el-slider"),u=Object(i["N"])("el-tooltip"),m=Object(i["N"])("TrackCard"),d=Object(i["N"])("BeatLine"),p=Object(i["N"])("TrackCardPanel");return Object(i["E"])(),Object(i["j"])("div",Ft,[Object(i["n"])("div",Jt,[Object(i["n"])("div",Xt,[Object(i["n"])(c,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[1]||(e[1]=function(t){a.myGlobal.timeSort=!a.myGlobal.timeSort,o.updateTrack()})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.myGlobal.timeSort?"改为坐标排序":"改为时间排序"),1)]})),_:1}),Object(i["n"])(c,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[2]||(e[2]=function(t){return a.showNoRemain=!a.showNoRemain})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.showNoRemain?"关闭无音符轨道":"显示无音符轨道"),1)]})),_:1}),Object(i["n"])(c,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[3]||(e[3]=function(t){return a.showCurrent=!a.showCurrent})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.showCurrent?"显示全部轨道":"显示当前轨道"),1)]})),_:1}),Object(i["n"])(c,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[4]||(e[4]=function(t){return a.autoScroll=!a.autoScroll})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.autoScroll?"关闭滚动":"开启滚动"),1)]})),_:1}),Object(i["n"])(c,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[5]||(e[5]=function(t){return a.showReal=!a.showReal})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.showReal?"关闭实轨":"显示实轨"),1)]})),_:1}),Object(i["n"])(c,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[6]||(e[6]=function(t){return a.showFake=!a.showFake})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.showFake?"关闭虚轨":"显示虚轨"),1)]})),_:1}),Object(i["n"])(c,{type:"text",class:0==a.currentNoteType?"show-button-selected":"show-button",style:{"margin-right":"5px"},onClick:e[7]||(e[7]=function(t){return a.currentNoteType=0})},{default:Object(i["bb"])((function(){return[_t]})),_:1},8,["class"]),Object(i["n"])(c,{type:"text",class:1==a.currentNoteType?"show-button-selected":"show-button",style:{"margin-right":"5px"},onClick:e[8]||(e[8]=function(t){return a.currentNoteType=1})},{default:Object(i["bb"])((function(){return[Lt]})),_:1},8,["class"]),Object(i["n"])(c,{type:"text",class:2==a.currentNoteType?"show-button-selected":"show-button",style:{"margin-right":"5px"},onClick:e[9]||(e[9]=function(t){return a.currentNoteType=2})},{default:Object(i["bb"])((function(){return[Ht]})),_:1},8,["class"]),Object(i["n"])(c,{type:"text",class:3==a.currentNoteType?"delete-button":"show-button",style:{"margin-right":"5px"},onClick:e[10]||(e[10]=function(t){return a.currentNoteType=3})},{default:Object(i["bb"])((function(){return[Yt]})),_:1},8,["class"]),Object(i["n"])(c,{type:"text",class:"show-button",style:{"margin-right":"5px"},onClick:e[11]||(e[11]=function(t){return a.enableEdit=!a.enableEdit})},{default:Object(i["bb"])((function(){return[Object(i["m"])(Object(i["R"])(a.enableEdit?"禁用编辑弹窗":"开启编辑弹窗"),1)]})),_:1})]),Object(i["n"])("div",zt,[Object(i["n"])(u,{class:"item",effect:"dark",content:"设置时间轴部分显示的时间范围",placement:"top-start"},{default:Object(i["bb"])((function(){return[Object(i["n"])(s,{modelValue:a.displayAreaTime,"onUpdate:modelValue":e[12]||(e[12]=function(t){return a.displayAreaTime=t}),min:1e3,max:n.chart.songLength>1e3?n.chart.songLength:1001},null,8,["modelValue","max"])]})),_:1})])]),n.chart.tracks?(Object(i["E"])(),Object(i["j"])("div",Pt,[Object(i["n"])("div",qt,[Object(i["n"])("div",{class:"footer-track-container",id:"footer-left-scroll",onScroll:e[13]||(e[13]=function(){return o.leftScroll&&o.leftScroll.apply(o,arguments)})},[Object(i["n"])(i["f"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.chart.tracks,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(i["e"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[(t.showInTimeline?a.showNoRemain?1==t.type?!l.showReal:!l.showFake:0==t.notes.length:1==t.type?!l.showReal:!l.showFake)||a.showCurrent&&!(n.global.currentTime>=t.startTiming&&n.global.currentTime<=t.endTiming)?Object(i["k"])("",!0):(Object(i["E"])(),Object(i["j"])(m,{key:0,chart:n.chart,track:t,global:n.global,onCurrentTrack:o.currentTrack},null,8,["chart","track","global","onCurrentTrack"]))]})),_:2},1024)])})),128))]})),_:1})],32)]),Object(i["n"])("div",{class:"footer-right",id:"footer-right-scroll",onScroll:e[14]||(e[14]=function(){return o.rightScroll&&o.rightScroll.apply(o,arguments)}),onMousemove:e[15]||(e[15]=function(t){return o.rightMouseMove(t)}),onMousedown:e[16]||(e[16]=function(t){o.rightClick(t),a.rightClicked=!0})},[Object(i["n"])("div",{style:{position:"absolute",left:0,top:a.scrollTop+"px",height:"20px",width:"100%"}},[Object(i["n"])(d,{chart:n.chart,global:n.global,displayAreaTime:a.displayAreaTime},null,8,["chart","global","displayAreaTime"])],4),Object(i["n"])("div",$t,[Object(i["n"])(i["f"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.chart.tracks,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(i["e"],{name:"flip-list","enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[(t.showInTimeline?a.showNoRemain?1==t.type?!l.showReal:!l.showFake:0==t.notes.length:1==t.type?!l.showReal:!l.showFake)||a.showCurrent&&!(n.global.currentTime>=t.startTiming&&n.global.currentTime<=t.endTiming)?Object(i["k"])("",!0):(Object(i["E"])(),Object(i["j"])(p,{key:0,currentNoteType:a.currentNoteType,id:"trackCardPanel"+t.index,chart:n.chart,track:t,global:n.global,scrollLeft:a.scrollLeft,displayAreaTime:a.displayAreaTime,enableEdit:a.enableEdit,onCurrentTrack:o.currentTrack},null,8,["currentNoteType","id","chart","track","global","scrollLeft","displayAreaTime","enableEdit","onCurrentTrack"]))]})),_:2},1024)])})),128))]})),_:1})]),Object(i["n"])("div",{class:"time-indicater",id:"time-indicater",style:{width:"1px",background:"rgb(255,255,0)",height:"100%",position:"absolute",pointerEvents:"none",top:a.scrollTop+"px",left:n.global.currentTime/a.displayAreaTime*(n.global.documentWidth-300)+"px"}},null,4),Object(i["n"])("div",{class:"time-indicater-false",id:"time-indicater-false",style:{width:"1px",background:"rgb(255,255,255)",height:"100%",position:"absolute",pointerEvents:"none",top:a.scrollTop+"px",left:a.indicatorLeft+"px"}},null,4)],32)])):Object(i["k"])("",!0)])}var ee={class:"track-tracks"},ne={class:"track-range"},ie={key:0},re={class:"track-labels"},ae={key:0};function oe(t,e,n,r,a,o){var l=Object(i["N"])("note"),c=Object(i["N"])("MoveOperation"),s=Object(i["N"])("WidthOperation"),u=Object(i["N"])("ColorOperation");return Object(i["E"])(),Object(i["j"])("div",{class:n.track.edit?"panel-edit":"panel-no-edit",style:{width:n.chart.songLength/n.displayAreaTime*(n.global.documentWidth-300)+"px"}},[Object(i["n"])("div",ee,[Object(i["n"])("div",{onDblclick:e[3]||(e[3]=function(){return o.newNote&&o.newNote.apply(o,arguments)}),class:n.track.edit?"note-track-edit":"note-track",style:{width:n.chart.songLength/n.displayAreaTime*(n.global.documentWidth-300)+"px"}},[Object(i["n"])("div",ne,[Object(i["n"])("div",null,[Object(i["n"])("div",{style:{position:"absolute",left:a.myTrack.startTiming/n.displayAreaTime*(n.global.documentWidth-300)+"px",top:0,height:"80px",width:"1px",background:"rgb(255,255,255)"}},[Object(i["n"])("div",{style:{userSelect:"none",height:"80px",position:"absolute",background:"rgb(70, 70, 70)",width:(a.myTrack.endTiming-a.myTrack.startTiming)/n.displayAreaTime*(n.global.documentWidth-300)+"px",left:"-1px",top:"1px",overflow:"hidden",lineHeight:"40px",fontSize:"20px",border:"0px solid #fff",borderLeftWidth:"1px",borderRightWidth:"1px"}},null,4),Object(i["n"])("div",{onMousedown:e[1]||(e[1]=function(e){return t.leftMove=!0}),style:{width:"1px",height:"80px",position:"absolute",left:"0px",top:"0",cursor:"w-resize"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,32),Object(i["n"])("div",{onMousedown:e[2]||(e[2]=function(e){return t.rightMove=!0}),style:{userSelect:"none",height:"80px",width:"1px",position:"absolute",cursor:"e-resize",left:(a.myTrack.endTiming-a.myTrack.startTiming)/n.displayAreaTime*(n.global.documentWidth-300)+1+"px",top:"0px"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,36)],4)])]),(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.track.notes,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(l,{currentNoteType:n.currentNoteType,track:n.track,global:n.global,chart:n.chart,note:t,enableEdit:n.enableEdit,displayAreaTime:n.displayAreaTime},null,8,["currentNoteType","track","global","chart","note","enableEdit","displayAreaTime"])])})),128))],38),Object(i["n"])(i["e"],{name:"fade","enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[n.track.edit?(Object(i["E"])(),Object(i["j"])("div",ie,[Object(i["n"])("div",{onDblclick:e[4]||(e[4]=function(){return o.newMoveOperations&&o.newMoveOperations.apply(o,arguments)}),class:"positionX-track",style:{width:n.chart.songLength/n.displayAreaTime*(n.global.documentWidth-300)+"px"}},[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.track.moveOperations,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(c,{currentNoteType:n.currentNoteType,track:n.track,global:n.global,chart:n.chart,operation:t,enableEdit:n.enableEdit,displayAreaTime:n.displayAreaTime},null,8,["currentNoteType","track","global","chart","operation","enableEdit","displayAreaTime"])])})),128))],36),Object(i["n"])("div",{onDblclick:e[5]||(e[5]=function(){return o.newWidthOperations&&o.newWidthOperations.apply(o,arguments)}),class:"width-track",style:{width:n.chart.songLength/n.displayAreaTime*(n.global.documentWidth-300)+"px"}},[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.track.changeWidthOperations,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(s,{currentNoteType:n.currentNoteType,track:n.track,global:n.global,chart:n.chart,operation:t,enableEdit:n.enableEdit,displayAreaTime:n.displayAreaTime},null,8,["currentNoteType","track","global","chart","operation","enableEdit","displayAreaTime"])])})),128))],36),Object(i["n"])("div",{onDblclick:e[6]||(e[6]=function(){return o.newColorOperations&&o.newColorOperations.apply(o,arguments)}),class:"color-track",style:{width:n.chart.songLength/n.displayAreaTime*(n.global.documentWidth-300)+"px"}},[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(n.track.changeColorOperations,(function(t){return Object(i["E"])(),Object(i["j"])("div",{key:t},[Object(i["n"])(u,{currentNoteType:n.currentNoteType,track:n.track,global:n.global,chart:n.chart,operation:t,enableEdit:n.enableEdit,displayAreaTime:n.displayAreaTime},null,8,["currentNoteType","track","global","chart","operation","enableEdit","displayAreaTime"])])})),128))],36)])):Object(i["k"])("",!0)]})),_:1})]),Object(i["n"])("div",re,[Object(i["n"])(i["e"],{name:"fade","enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"},{default:Object(i["bb"])((function(){return[n.track.edit?(Object(i["E"])(),Object(i["j"])("div",ae,[Object(i["n"])("div",{class:"note-track-label",style:{left:n.scrollLeft+"px"}}," 音符轨道 ",4),Object(i["n"])("div",{class:"positionX-track-label",style:{left:n.scrollLeft+"px"}}," 坐标操作 ",4),Object(i["n"])("div",{class:"width-track-label",style:{left:n.scrollLeft+"px"}}," 宽度操作 ",4),Object(i["n"])("div",{class:"color-track-label",style:{left:n.scrollLeft+"px"}}," 色彩操作 ",4)])):Object(i["k"])("",!0)]})),_:1})])],6)}var le={style:{"text-align":"right"}},ce=Object(i["m"])("短键"),se=Object(i["m"])("长键"),ue=Object(i["m"])("滑键"),me=Object(i["n"])("i",{class:"el-icon-question"},null,-1),de=Object(i["n"])("i",{class:"el-icon-question"},null,-1),pe=Object(i["n"])("i",{class:"el-icon-question"},null,-1),he=Object(i["n"])("i",{class:"el-icon-question"},null,-1),be={key:0},ge={key:1},Ae={key:2};function fe(t,e,r,a,o,l){var c=Object(i["N"])("el-button"),s=Object(i["N"])("el-radio"),u=Object(i["N"])("el-radio-group"),m=Object(i["N"])("el-tooltip"),d=Object(i["N"])("el-form-item"),p=Object(i["N"])("el-input"),h=Object(i["N"])("el-form"),b=Object(i["N"])("el-image"),g=Object(i["N"])("el-popover");return Object(i["E"])(),Object(i["j"])("div",{onClick:e[16]||(e[16]=function(){return l.selfClicked&&l.selfClicked.apply(l,arguments)}),style:{position:"absolute",top:"20px",left:l.left-20+"px",zIndex:r.note.zIndex},onMousedown:e[17]||(e[17]=function(){return l.setZIndex&&l.setZIndex.apply(l,arguments)})},[Object(i["n"])(g,{visible:o.edit,"onUpdate:visible":e[15]||(e[15]=function(t){return o.edit=t}),placement:"top",width:"300",trigger:"manual"},{reference:Object(i["bb"])((function(){return[Object(i["n"])("div",null,[0==r.note.noteType?(Object(i["E"])(),Object(i["j"])("div",be,[Object(i["n"])(b,{onDragstart:e[6]||(e[6]=Object(i["eb"])((function(){}),["prevent"])),onMousedown:e[7]||(e[7]=function(t){return o.canMove=!0}),style:{width:"40px",height:"40px","user-select":"none",cursor:"move"},src:n("7265")},null,8,["src"])])):Object(i["k"])("",!0),1==r.note.noteType?(Object(i["E"])(),Object(i["j"])("div",ge,[Object(i["n"])("div",{onMousedown:e[8]||(e[8]=function(){return l.longNoteCanMove&&l.longNoteCanMove.apply(l,arguments)}),style:{userSelect:"none",height:"38px",position:"absolute",background:"rgb(22, 22, 14)",cursor:"move",width:(o.myNote.endTiming-o.myNote.timing)/r.displayAreaTime*(r.global.documentWidth-300)+"px",left:"20px",top:"1px"}},null,36),Object(i["n"])(b,{onDragstart:e[9]||(e[9]=Object(i["eb"])((function(){}),["prevent"])),onMousedown:e[10]||(e[10]=function(t){return o.leftMove=!0}),style:{width:"40px",height:"40px",position:"absolute",left:"0",top:"0","user-select":"none",cursor:"w-resize"},src:n("eeff")},null,8,["src"]),Object(i["n"])(b,{onDragstart:e[11]||(e[11]=Object(i["eb"])((function(){}),["prevent"])),onMousedown:e[12]||(e[12]=function(t){return o.rightMove=!0}),style:{userSelect:"none",height:"40px",width:"40px",position:"absolute",cursor:"e-resize",left:(o.myNote.endTiming-o.myNote.timing)/r.displayAreaTime*(r.global.documentWidth-300)+"px",top:"0px"},src:n("17ff")},null,8,["style","src"])])):Object(i["k"])("",!0),2==r.note.noteType?(Object(i["E"])(),Object(i["j"])("div",Ae,[Object(i["n"])(b,{onMousedown:e[13]||(e[13]=function(t){return o.canMove=!0}),onDragstart:e[14]||(e[14]=Object(i["eb"])((function(){}),["prevent"])),style:{width:"40px",height:"40px",cursor:"move"},src:n("e115")},null,8,["src"])])):Object(i["k"])("",!0)])]})),default:Object(i["bb"])((function(){return[Object(i["n"])("div",le,[Object(i["n"])(c,{type:"text",class:"cancel-button",icon:"el-icon-error",onClick:e[1]||(e[1]=function(t){return o.edit=!1})}),Object(i["n"])(c,{type:"text",class:"ok-button",icon:"el-icon-success",onClick:l.saveNote},null,8,["onClick"]),Object(i["n"])(c,{type:"text",class:"delete-button",icon:"el-icon-remove",onClick:l.deleteNote},null,8,["onClick"])]),Object(i["n"])(h,{model:o.myNote.tempNote,rules:o.rules,ref:"form",onSubmit:Object(i["eb"])(l.saveNote,["prevent"])},{default:Object(i["bb"])((function(){return[Object(i["n"])(d,{label:"音符类别","label-width":"80px",prop:"noteType"},{default:Object(i["bb"])((function(){return[Object(i["n"])(u,{modelValue:o.myNote.tempNote.noteType,"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.myNote.tempNote.noteType=t}),size:"small",style:{width:"130px","line-height":"20px"}},{default:Object(i["bb"])((function(){return[Object(i["n"])(s,{label:0},{default:Object(i["bb"])((function(){return[ce]})),_:1}),Object(i["n"])(s,{label:1},{default:Object(i["bb"])((function(){return[se]})),_:1}),Object(i["n"])(s,{label:2},{default:Object(i["bb"])((function(){return[ue]})),_:1})]})),_:1},8,["modelValue"]),Object(i["n"])(m,{class:"item",effect:"dark",content:"设置音符的类别",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[me]})),_:1})]})),_:1}),Object(i["n"])(d,{label:"按键","label-width":"80px",prop:"key"},{default:Object(i["bb"])((function(){return[Object(i["n"])(p,{disabled:1==r.track.type,onKeydown:Object(i["db"])(l.saveNote,["enter"]),modelValue:o.myNote.tempNote.key,"onUpdate:modelValue":e[3]||(e[3]=function(t){return o.myNote.tempNote.key=t}),style:{width:"130px"}},null,8,["disabled","onKeydown","modelValue"]),Object(i["n"])(m,{class:"item",effect:"dark",content:"设置音符的按键，当轨道是实轨时，音符按键必须等于实轨按键，虚轨的音符需要每一个设置自己的按键。请输入单个字母，不区分大小写",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[de]})),_:1})]})),_:1}),Object(i["n"])(d,{label:"时机","label-width":"80px",prop:"timing"},{default:Object(i["bb"])((function(){return[Object(i["n"])(p,{onKeydown:Object(i["db"])(l.saveNote,["enter"]),modelValue:o.myNote.tempNote.timing,"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.myNote.tempNote.timing=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(m,{class:"item",effect:"dark",content:"设置音符的时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[pe]})),_:1})]})),_:1}),1==o.myNote.tempNote.noteType?(Object(i["E"])(),Object(i["j"])(d,{key:0,label:"结束时机","label-width":"80px",prop:"endTiming"},{default:Object(i["bb"])((function(){return[Object(i["n"])(p,{onKeydown:Object(i["db"])(l.saveNote,["enter"]),modelValue:o.myNote.tempNote.endTiming,"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.myNote.tempNote.endTiming=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(m,{class:"item",effect:"dark",content:"设置长键的结束时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[he]})),_:1})]})),_:1})):Object(i["k"])("",!0)]})),_:1},8,["model","rules","onSubmit"])]})),_:1},8,["visible"])],36)}var Oe={props:["note","global","track","displayAreaTime","currentNoteType","enableEdit","chart"],data:function(){var t=this,e=function(t,e,n){if(!e)return n(new Error("按键不能为空"));var i=/^[A-Za-z]$/;i.test(e)?n():n(new Error("按键必须是单个字母"))},n=function(e,n,i){if(0!=n&&!n)return i(new Error("开始时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTiming?i(new Error("不能大于轨道结束时机")):i()},i=function(e,n,i){if(0!=n&&!n)return i(new Error("结束时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTiming?i(new Error("不能大于轨道结束时机")):parseInt(n)<parseInt(t.myNote.tempNote.timing)+100?i(new Error("长键长度不得小于100")):i()};return{myNote:this.note,myTrack:this.track,myGlobal:this.global,canMove:!1,leftMove:!1,rightMove:!1,passedTime:0,edit:!1,rules:{type:[{required:!0,message:"请选择音符类别",trigger:"blur"}],key:[{required:!0,validator:e,trigger:"blur"}],timing:[{required:!0,validator:n,trigger:"blur"}],endTiming:[{required:!0,validator:i,trigger:"blur"}]}}},created:function(){this.myNote.zIndex=0,1!=this.myNote.noteType&&(this.myNote.endTiming=parseInt(this.myNote.timing)+150),this.myNote.tempNote=JSON.parse(JSON.stringify(this.myNote)),delete this.myNote.tempNote.tempNote},watch:{"global.mouseUp":function(){this.canMove=!1,this.leftMove=!1,this.rightMove=!1},"global.mouseMove":function(){this.canMove?this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming&&(1==this.myNote.noteType?(this.duration=this.note.endTiming-this.note.timing,this.myNote.timing=this.roundTime(this.global.currentTime-this.passedTime)):this.myNote.timing=this.roundTime(this.global.currentTime),1!=this.myNote.noteType?this.myNote.endTiming=parseInt(this.myNote.timing)+150:this.myNote.endTiming=this.myNote.timing+this.duration,this.updateTemp()):this.leftMove?this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.myNote.endTiming-150&&(this.myNote.timing=this.roundTime(this.global.currentTime),this.updateTemp()):this.rightMove&&this.global.currentTime>this.myNote.timing+150&&this.global.currentTime<this.track.endTiming&&(this.myNote.endTiming=this.roundTime(this.global.currentTime),this.updateTemp())}},computed:{left:function(){return this.myNote.timing/this.displayAreaTime*(this.global.documentWidth-300)}},methods:{roundTime:function(t){if(this.global.beatLine){var e=this.chart.bpm/16,n=(t-this.chart.firstBeatDelay)%e;n>e/2?t+=e-n:t-=n}return Math.ceil(t)},updateTemp:function(){this.myNote.tempNote=JSON.parse(JSON.stringify(this.myNote)),this.myNote.tempNote.key=this.myNote.tempNote.key.toUpperCase(),delete this.myNote.tempNote.tempNote},selfClicked:function(){3==this.currentNoteType?this.deleteSelf():this.enableEdit&&this.startEdit()},setZIndex:function(){this.global.currentNote&&(this.myGlobal.currentNote.zIndex=0),this.myGlobal.currentNote=this.note,this.myNote.zIndex=10},updateTrack:function(){this.myGlobal.reCalculateTrack=!this.myGlobal.reCalculateTrack,this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},longNoteCanMove:function(){var t=this;setTimeout((function(){t.passedTime=Math.ceil(t.global.currentTime-t.note.timing)}),10),this.canMove=!0},startEdit:function(){this.edit=!0,this.myNote.tempNote=JSON.parse(JSON.stringify(this.myNote)),this.myNote.tempNote.key=this.myNote.tempNote.key.toUpperCase(),delete this.myNote.tempNote.tempNote,1!=this.myNote.noteType&&(this.myNote.endTiming=parseInt(this.myNote.timing)+150)},saveNote:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;for(var n in t.myNote.tempNote)"tempNote"!=n&&(t.myNote[n]=t.myNote.tempNote[n]);t.myNote.key=t.myNote.key.toUpperCase(),t.edit=!1}))},deleteNote:function(){var t=this;this.$confirm("您确定删除该音符?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteSelf(),t.$notify({title:"成功",message:"删除成功",type:"success"})}))},deleteSelf:function(){this.myTrack.notes.splice(this.myNote.index,1),this.updateTrack()}}};const ye=ot()(Oe,[["render",fe]]);var je=ye,Te={style:{"text-align":"right"}},ke=Object(i["n"])("i",{class:"el-icon-question"},null,-1),ve=Object(i["n"])("i",{class:"el-icon-question"},null,-1),xe=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Ce=Object(i["n"])("i",{class:"el-icon-question"},null,-1),we={style:{"text-align":"center"}},Ee=Object(i["n"])("br",null,null,-1),Ie={style:{"text-align":"center",color:"rgb(255,255,255)"}};function Ne(t,e,n,r,a,o){var l=Object(i["N"])("el-button"),c=Object(i["N"])("el-input"),s=Object(i["N"])("el-tooltip"),u=Object(i["N"])("el-form-item"),m=Object(i["N"])("el-form"),d=Object(i["N"])("el-popover");return Object(i["E"])(),Object(i["j"])("div",{onClick:e[10]||(e[10]=function(){return o.selfClicked&&o.selfClicked.apply(o,arguments)}),style:{position:"absolute",top:"20px",left:o.left+"px",zIndex:n.operation.zIndex},onMousedown:e[11]||(e[11]=function(){return o.setZIndex&&o.setZIndex.apply(o,arguments)})},[Object(i["n"])(d,{visible:a.edit,"onUpdate:visible":e[9]||(e[9]=function(t){return a.edit=t}),placement:"top",width:"300",trigger:"manual"},{reference:Object(i["bb"])((function(){return[Object(i["n"])("div",null,[Object(i["n"])(s,{class:"item",effect:"dark",placement:"top-start"},{content:Object(i["bb"])((function(){return[Object(i["n"])("div",we,[Object(i["m"])(Object(i["R"])(a.myOperation.startTime+"→"+a.myOperation.endTime)+" ",1),Ee,Object(i["m"])(" "+Object(i["R"])(a.myOperation.startX+"→"+a.myOperation.endX),1)])]})),default:Object(i["bb"])((function(){return[Object(i["n"])("div",null,[Object(i["n"])("div",{onMousedown:e[6]||(e[6]=function(){return o.longOperationCanMove&&o.longOperationCanMove.apply(o,arguments)}),style:{userSelect:"none",height:"40px",position:"absolute",background:"rgb(83, 195, 208)",cursor:"move",width:(a.myOperation.endTime-a.myOperation.startTime)/n.displayAreaTime*(n.global.documentWidth-300)+"px",left:"0px",top:"1px",overflow:"hidden",lineHeight:"40px",fontSize:"20px",border:"0px solid #fff",borderLeftWidth:"1px",borderRightWidth:"1px"}},[Object(i["n"])("div",Ie,Object(i["R"])(a.myOperation.startX)+"→"+Object(i["R"])(a.myOperation.endX),1)],36),Object(i["n"])("div",{onMousedown:e[7]||(e[7]=function(t){return a.leftMove=!0}),style:{width:"1px",height:"40px",position:"absolute",left:"0px",top:"0",cursor:"w-resize"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,32),Object(i["n"])("div",{onMousedown:e[8]||(e[8]=function(t){return a.rightMove=!0}),style:{userSelect:"none",height:"40px",width:"1px",position:"absolute",cursor:"e-resize",left:(a.myOperation.endTime-a.myOperation.startTime)/n.displayAreaTime*(n.global.documentWidth-300)+1+"px",top:"0px"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,36)])]})),_:1})])]})),default:Object(i["bb"])((function(){return[Object(i["n"])("div",Te,[Object(i["n"])(l,{type:"text",class:"cancel-button",icon:"el-icon-error",onClick:e[1]||(e[1]=function(t){return a.edit=!1})}),Object(i["n"])(l,{type:"text",class:"ok-button",icon:"el-icon-success",onClick:o.saveOperation},null,8,["onClick"]),Object(i["n"])(l,{type:"text",class:"delete-button",icon:"el-icon-remove",onClick:o.deleteOperation},null,8,["onClick"])]),Object(i["n"])(m,{model:a.myOperation.tempOperation,rules:a.rules,ref:"form",onSubmit:Object(i["eb"])(o.saveOperation,["prevent"])},{default:Object(i["bb"])((function(){return[Object(i["n"])(u,{label:"开始时机","label-width":"80px",prop:"startTime"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.startTime,"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.myOperation.tempOperation.startTime=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的起始时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[ke]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"结束时机","label-width":"80px",prop:"endTime"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.endTime,"onUpdate:modelValue":e[3]||(e[3]=function(t){return a.myOperation.tempOperation.endTime=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的结束时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[ve]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"开始坐标","label-width":"80px",prop:"startX"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.startX,"onUpdate:modelValue":e[4]||(e[4]=function(t){return a.myOperation.tempOperation.startX=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作开始的横坐标，请输入一个小数，代表轨道横坐标占画面全宽的比例",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[xe]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"结束坐标","label-width":"80px",prop:"endX"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.endX,"onUpdate:modelValue":e[5]||(e[5]=function(t){return a.myOperation.tempOperation.endX=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作结束的横坐标，请输入一个小数，代表轨道横坐标占画面全宽的比例",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Ce]})),_:1})]})),_:1})]})),_:1},8,["model","rules","onSubmit"])]})),_:1},8,["visible"])],36)}var Se={props:["operation","global","track","displayAreaTime","currentNoteType","enableEdit","chart"],data:function(){var t=this,e=function(t,e,n){if(!e)return n(new Error("起始坐标不能为空"));"NaN"==parseFloat(e).toString()?n(new Error("请输入数字值")):n()},n=function(t,e,n){if(!e)return n(new Error("终止坐标不能为空"));"NaN"==parseFloat(e).toString()?n(new Error("请输入数字值")):n()},i=function(e,n,i){if(0!=n&&!n)return i(new Error("开始时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTime?i(new Error("不能大于轨道结束时机")):i()},r=function(e,n,i){if(0!=n&&!n)return i(new Error("结束时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTime?i(new Error("不能大于轨道结束时机")):i()};return{myOperation:this.operation,myTrack:this.track,myGlobal:this.global,canMove:!1,leftMove:!1,rightMove:!1,passedTime:0,edit:!1,rules:{startTime:[{required:!0,validator:i,trigger:"blur"}],endTime:[{required:!0,validator:r,trigger:"blur"}],startX:[{required:!0,validator:e,trigger:"blur"}],endX:[{required:!0,validator:n,trigger:"blur"}]}}},created:function(){this.myOperation.zIndex=1,this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation},watch:{"global.mouseUp":function(){this.canMove=!1,this.leftMove=!1,this.rightMove=!1},"global.mouseMove":function(){if(this.canMove)this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming&&(this.duration=this.operation.endTime-this.operation.startTime,this.myOperation.startTime=this.roundTime(this.global.currentTime-this.passedTime),this.myOperation.endTime=this.myOperation.startTime+this.duration,this.updateTemp());else if(this.leftMove){var t=this.global.currentTime;this.roundTime(t)<=this.myOperation.endTime&&(this.myOperation.startTime=this.roundTime(t),this.updateTemp())}else this.rightMove&&(t=this.global.currentTime,this.roundTime(t)>=this.myOperation.startTime&&(this.myOperation.endTime=this.roundTime(t),this.updateTemp()))}},computed:{left:function(){return this.myOperation.startTime/this.displayAreaTime*(this.global.documentWidth-300)}},methods:{roundTime:function(t){if(this.global.beatLine){var e=this.chart.bpm/16,n=(t-this.chart.firstBeatDelay)%e;n>e/2?t+=e-n:t-=n}return Math.ceil(t)},updateTemp:function(){this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation},selfClicked:function(){3==this.currentNoteType?this.deleteSelf():this.enableEdit&&this.startEdit()},setZIndex:function(){this.global.currentOperation&&(this.myGlobal.currentOperation.zIndex=0),this.myGlobal.currentOperation=this.operation,this.myOperation.zIndex=10},updateTrack:function(){this.myGlobal.reCalculateTrack=!this.myGlobal.reCalculateTrack,this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},longOperationCanMove:function(){var t=this;setTimeout((function(){t.passedTime=Math.ceil(t.global.currentTime-t.operation.startTime)}),10),this.canMove=!0},startEdit:function(){this.edit=!0,this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation},saveOperation:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;for(var n in t.myOperation.tempOperation)"tempOperation"!=n&&(t.myOperation[n]=t.myOperation.tempOperation[n]);t.edit=!1}))},deleteOperation:function(){var t=this;this.$confirm("您确定删除该操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteSelf(),t.$notify({title:"成功",message:"删除成功",type:"success"})}))},deleteSelf:function(){this.myTrack.moveOperations.splice(this.myOperation.index,1),this.updateTrack()}}};const Be=ot()(Se,[["render",Ne]]);var Me=Be,Re={style:{"text-align":"right"}},Ge=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Ue=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Ve=Object(i["n"])("i",{class:"el-icon-question"},null,-1),We=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Qe={style:{"text-align":"center"}},Ke=Object(i["n"])("br",null,null,-1),De={style:{"text-align":"center",color:"rgb(255,255,255)"}};function Ze(t,e,n,r,a,o){var l=Object(i["N"])("el-button"),c=Object(i["N"])("el-input"),s=Object(i["N"])("el-tooltip"),u=Object(i["N"])("el-form-item"),m=Object(i["N"])("el-form"),d=Object(i["N"])("el-popover");return Object(i["E"])(),Object(i["j"])("div",{onClick:e[10]||(e[10]=function(){return o.selfClicked&&o.selfClicked.apply(o,arguments)}),style:{position:"absolute",top:"20px",left:o.left+"px",zIndex:n.operation.zIndex},onMousedown:e[11]||(e[11]=function(){return o.setZIndex&&o.setZIndex.apply(o,arguments)})},[Object(i["n"])(d,{visible:a.edit,"onUpdate:visible":e[9]||(e[9]=function(t){return a.edit=t}),placement:"top",width:"300",trigger:"manual"},{reference:Object(i["bb"])((function(){return[Object(i["n"])("div",null,[Object(i["n"])(s,{class:"item",effect:"dark",placement:"top-start"},{content:Object(i["bb"])((function(){return[Object(i["n"])("div",Qe,[Object(i["m"])(Object(i["R"])(a.myOperation.startTime+"→"+a.myOperation.endTime)+" ",1),Ke,Object(i["m"])(" "+Object(i["R"])(a.myOperation.startWidth+"→"+a.myOperation.endWidth),1)])]})),default:Object(i["bb"])((function(){return[Object(i["n"])("div",null,[Object(i["n"])("div",{onMousedown:e[6]||(e[6]=function(){return o.longOperationCanMove&&o.longOperationCanMove.apply(o,arguments)}),style:{userSelect:"none",height:"40px",position:"absolute",background:"rgb(184, 223, 107)",cursor:"move",width:(a.myOperation.endTime-a.myOperation.startTime)/n.displayAreaTime*(n.global.documentWidth-300)+"px",left:"-1px",top:"1px",overflow:"hidden",lineHeight:"40px",fontSize:"20px",border:"0px solid #fff",borderLeftWidth:"1px",borderRightWidth:"1px"}},[Object(i["n"])("div",De,Object(i["R"])(a.myOperation.startWidth)+"→"+Object(i["R"])(a.myOperation.endWidth),1)],36),Object(i["n"])("div",{onMousedown:e[7]||(e[7]=function(t){return a.leftMove=!0}),style:{width:"1px",height:"40px",position:"absolute",left:"0px",top:"0",cursor:"w-resize"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,32),Object(i["n"])("div",{onMousedown:e[8]||(e[8]=function(t){return a.rightMove=!0}),style:{userSelect:"none",height:"40px",width:"1px",position:"absolute",cursor:"e-resize",left:(a.myOperation.endTime-a.myOperation.startTime)/n.displayAreaTime*(n.global.documentWidth-300)+1+"px",top:"0px"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,36)])]})),_:1})])]})),default:Object(i["bb"])((function(){return[Object(i["n"])("div",Re,[Object(i["n"])(l,{type:"text",class:"cancel-button",icon:"el-icon-error",onClick:e[1]||(e[1]=function(t){return a.edit=!1})}),Object(i["n"])(l,{type:"text",class:"ok-button",icon:"el-icon-success",onClick:o.saveOperation},null,8,["onClick"]),Object(i["n"])(l,{type:"text",class:"delete-button",icon:"el-icon-remove",onClick:o.deleteOperation},null,8,["onClick"])]),Object(i["n"])(m,{model:a.myOperation.tempOperation,rules:a.rules,ref:"form",onSubmit:Object(i["eb"])(o.saveOperation,["prevent"])},{default:Object(i["bb"])((function(){return[Object(i["n"])(u,{label:"开始时机","label-width":"80px",prop:"startTime"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.startTime,"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.myOperation.tempOperation.startTime=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的起始时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Ge]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"结束时机","label-width":"80px",prop:"endTime"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.endTime,"onUpdate:modelValue":e[3]||(e[3]=function(t){return a.myOperation.tempOperation.endTime=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的结束时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Ue]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"开始宽度","label-width":"80px",prop:"startWidth"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.startWidth,"onUpdate:modelValue":e[4]||(e[4]=function(t){return a.myOperation.tempOperation.startWidth=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作开始的宽度，请输入一个小数，代表轨道宽度占画面全宽的比例",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Ve]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"结束宽度","label-width":"80px",prop:"endWidth"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.endWidth,"onUpdate:modelValue":e[5]||(e[5]=function(t){return a.myOperation.tempOperation.endWidth=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作结束的宽度，请输入一个小数，代表轨道宽度占画面全宽的比例",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[We]})),_:1})]})),_:1})]})),_:1},8,["model","rules","onSubmit"])]})),_:1},8,["visible"])],36)}var Fe={props:["operation","global","track","displayAreaTime","currentNoteType","enableEdit","chart"],data:function(){var t=this,e=function(t,e,n){if(!e)return n(new Error("起始坐标不能为空"));"NaN"==parseFloat(e).toString()?n(new Error("请输入数字值")):n()},n=function(t,e,n){if(!e)return n(new Error("终止坐标不能为空"));"NaN"==parseFloat(e).toString()?n(new Error("请输入数字值")):n()},i=function(e,n,i){if(0!=n&&!n)return i(new Error("开始时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTime?i(new Error("不能大于轨道结束时机")):i()},r=function(e,n,i){if(0!=n&&!n)return i(new Error("结束时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTime?i(new Error("不能大于轨道结束时机")):i()};return{myOperation:this.operation,myTrack:this.track,myGlobal:this.global,canMove:!1,leftMove:!1,rightMove:!1,passedTime:0,edit:!1,rules:{startTime:[{required:!0,validator:i,trigger:"blur"}],endTime:[{required:!0,validator:r,trigger:"blur"}],startWidth:[{required:!0,validator:e,trigger:"blur"}],endWidth:[{required:!0,validator:n,trigger:"blur"}]}}},created:function(){this.myOperation.zIndex=0,this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation},watch:{"global.mouseUp":function(){this.canMove=!1,this.leftMove=!1,this.rightMove=!1},"global.mouseMove":function(){if(this.canMove)this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming&&(this.duration=this.operation.endTime-this.operation.startTime,this.myOperation.startTime=this.roundTime(this.global.currentTime-this.passedTime),this.myOperation.endTime=this.myOperation.startTime+this.duration,this.updateTemp());else if(this.leftMove){var t=this.global.currentTime;this.roundTime(t)<=this.myOperation.endTime&&(this.myOperation.startTime=this.roundTime(t),this.updateTemp())}else this.rightMove&&(t=this.global.currentTime,this.roundTime(t)>=this.myOperation.startTime&&(this.myOperation.endTime=this.roundTime(t),this.updateTemp()))}},computed:{left:function(){return this.myOperation.startTime/this.displayAreaTime*(this.global.documentWidth-300)}},methods:{roundTime:function(t){if(this.global.beatLine){var e=this.chart.bpm/16,n=(t-this.chart.firstBeatDelay)%e;n>e/2?t+=e-n:t-=n}return Math.ceil(t)},updateTemp:function(){this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation},selfClicked:function(){3==this.currentNoteType?this.deleteSelf():this.enableEdit&&this.startEdit()},setZIndex:function(){this.global.currentOperation&&(this.myGlobal.currentOperation.zIndex=0),this.myGlobal.currentOperation=this.operation,this.myOperation.zIndex=10},updateTrack:function(){this.myGlobal.reCalculateTrack=!this.myGlobal.reCalculateTrack,this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},longOperationCanMove:function(){var t=this;setTimeout((function(){t.passedTime=Math.ceil(t.global.currentTime-t.operation.startTime)}),10),this.canMove=!0},startEdit:function(){this.edit=!0,this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation},saveOperation:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;for(var n in t.myOperation.tempOperation)"tempOperation"!=n&&(t.myOperation[n]=t.myOperation.tempOperation[n]);t.edit=!1}))},deleteOperation:function(){var t=this;this.$confirm("您确定删除该操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteSelf(),t.$notify({title:"成功",message:"删除成功",type:"success"})}))},deleteSelf:function(){this.myTrack.changeWidthOperations.splice(this.myOperation.index,1),this.updateTrack()}}};const Je=ot()(Fe,[["render",Ze]]);var Xe=Je,_e={style:{"text-align":"right"}},Le=Object(i["n"])("i",{class:"el-icon-question"},null,-1),He=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Ye=Object(i["n"])("i",{class:"el-icon-question"},null,-1),ze=Object(i["n"])("i",{class:"el-icon-question"},null,-1),Pe={style:{"text-align":"center"}},qe=Object(i["n"])("br",null,null,-1),$e=Object(i["m"])("→"),tn={style:{"text-align":"center",color:"rgb(255,255,255)"}},en=Object(i["m"])("→");function nn(t,e,n,r,a,o){var l=Object(i["N"])("el-button"),c=Object(i["N"])("el-input"),s=Object(i["N"])("el-tooltip"),u=Object(i["N"])("el-form-item"),m=Object(i["N"])("el-color-picker"),d=Object(i["N"])("el-form"),p=Object(i["N"])("el-popover");return Object(i["E"])(),Object(i["j"])("div",{onClick:e[10]||(e[10]=function(){return o.selfClicked&&o.selfClicked.apply(o,arguments)}),style:{position:"absolute",top:"20px",left:o.left+"px",zIndex:n.operation.zIndex},onMousedown:e[11]||(e[11]=function(){return o.setZIndex&&o.setZIndex.apply(o,arguments)})},[Object(i["n"])(p,{visible:a.edit,"onUpdate:visible":e[9]||(e[9]=function(t){return a.edit=t}),placement:"top",width:"300",trigger:"manual"},{reference:Object(i["bb"])((function(){return[Object(i["n"])("div",null,[Object(i["n"])(s,{class:"item",effect:"dark",placement:"top-start"},{content:Object(i["bb"])((function(){return[Object(i["n"])("div",Pe,[Object(i["m"])(Object(i["R"])(a.myOperation.startTime+"→"+a.myOperation.endTime)+" ",1),qe,Object(i["n"])("span",{style:{color:"rgb("+a.myOperation.startR+","+a.myOperation.startG+","+a.myOperation.startB+")"}},"█",4),$e,Object(i["n"])("span",{style:{color:"rgb("+a.myOperation.endR+","+a.myOperation.endG+","+a.myOperation.endB+")"}},"█",4)])]})),default:Object(i["bb"])((function(){return[Object(i["n"])("div",null,[Object(i["n"])("div",{onMousedown:e[6]||(e[6]=function(){return o.longOperationCanMove&&o.longOperationCanMove.apply(o,arguments)}),style:{userSelect:"none",height:"40px",position:"absolute",background:"rgb(70, 70, 70)",cursor:"move",width:(a.myOperation.endTime-a.myOperation.startTime)/n.displayAreaTime*(n.global.documentWidth-300)+"px",left:"-1px",top:"1px",overflow:"hidden",lineHeight:"40px",fontSize:"20px",border:"0px solid #fff",borderLeftWidth:"1px",borderRightWidth:"1px"}},[Object(i["n"])("div",tn,[Object(i["n"])("span",{style:{color:"rgb("+a.myOperation.startR+","+a.myOperation.startG+","+a.myOperation.startB+")"}},"█",4),en,Object(i["n"])("span",{style:{color:"rgb("+a.myOperation.endR+","+a.myOperation.endG+","+a.myOperation.endB+")"}},"█",4)])],36),Object(i["n"])("div",{onMousedown:e[7]||(e[7]=function(t){return a.leftMove=!0}),style:{width:"1px",height:"40px",position:"absolute",left:"0px",top:"0",cursor:"w-resize"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,32),Object(i["n"])("div",{onMousedown:e[8]||(e[8]=function(t){return a.rightMove=!0}),style:{userSelect:"none",height:"40px",width:"1px",position:"absolute",cursor:"e-resize",left:(a.myOperation.endTime-a.myOperation.startTime)/n.displayAreaTime*(n.global.documentWidth-300)+1+"px",top:"0px"},src:"http://pic.mcatk.com/charlot-pictures/EpheHitOperation.png"},null,36)])]})),_:1})])]})),default:Object(i["bb"])((function(){return[Object(i["n"])("div",_e,[Object(i["n"])(l,{type:"text",class:"cancel-button",icon:"el-icon-error",onClick:e[1]||(e[1]=function(t){return a.edit=!1})}),Object(i["n"])(l,{type:"text",class:"ok-button",icon:"el-icon-success",onClick:o.saveOperation},null,8,["onClick"]),Object(i["n"])(l,{type:"text",class:"delete-button",icon:"el-icon-remove",onClick:o.deleteOperation},null,8,["onClick"])]),Object(i["n"])(d,{model:a.myOperation.tempOperation,rules:a.rules,ref:"form",onSubmit:Object(i["eb"])(o.saveOperation,["prevent"])},{default:Object(i["bb"])((function(){return[Object(i["n"])(u,{label:"开始时机","label-width":"80px",prop:"startTime"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.startTime,"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.myOperation.tempOperation.startTime=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的起始时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Le]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"结束时机","label-width":"80px",prop:"endTime"},{default:Object(i["bb"])((function(){return[Object(i["n"])(c,{onKeydown:Object(i["db"])(o.saveOperation,["enter"]),modelValue:a.myOperation.tempOperation.endTime,"onUpdate:modelValue":e[3]||(e[3]=function(t){return a.myOperation.tempOperation.endTime=t}),style:{width:"130px"}},null,8,["onKeydown","modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的结束时机",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[He]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"开始颜色","label-width":"80px",prop:"startColor"},{default:Object(i["bb"])((function(){return[Object(i["n"])(m,{modelValue:a.myOperation.tempOperation.startColor,"onUpdate:modelValue":e[4]||(e[4]=function(t){return a.myOperation.tempOperation.startColor=t}),"color-format":"rgb"},null,8,["modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的开始颜色",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[Ye]})),_:1})]})),_:1}),Object(i["n"])(u,{label:"结束颜色","label-width":"80px",prop:"endColor"},{default:Object(i["bb"])((function(){return[Object(i["n"])(m,{modelValue:a.myOperation.tempOperation.endColor,"onUpdate:modelValue":e[5]||(e[5]=function(t){return a.myOperation.tempOperation.endColor=t}),"color-format":"rgb"},null,8,["modelValue"]),Object(i["n"])(s,{class:"item",effect:"dark",content:"设置操作的结束颜色",placement:"top-start",style:{"margin-left":"10px"}},{default:Object(i["bb"])((function(){return[ze]})),_:1})]})),_:1})]})),_:1},8,["model","rules","onSubmit"])]})),_:1},8,["visible"])],36)}var rn={props:["operation","global","track","displayAreaTime","currentNoteType","enableEdit","chart"],data:function(){var t=this,e=function(e,n,i){if(0!=n&&!n)return i(new Error("开始时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTime?i(new Error("不能大于轨道结束时机")):i()},n=function(e,n,i){if(0!=n&&!n)return i(new Error("结束时机不能为空"));"NaN"==parseFloat(n).toString()?i(new Error("请输入数字值")):n<0?i(new Error("不能小于0")):n<t.myTrack.startTiming?i(new Error("不能小于轨道开始时机")):n>t.myTrack.endTime?i(new Error("不能大于轨道结束时机")):i()};return{myOperation:this.operation,myTrack:this.track,myGlobal:this.global,canMove:!1,leftMove:!1,rightMove:!1,passedTime:0,edit:!1,rules:{startTime:[{required:!0,validator:e,trigger:"blur"}],endTime:[{required:!0,validator:n,trigger:"blur"}],startColor:[{required:!0,message:"请选择颜色",rigger:"blur"}],endColor:[{required:!0,message:"请选择颜色",trigger:"blur"}]}}},created:function(){this.myOperation.zIndex=0,this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation,this.myOperation.tempOperation.startColor="rgb("+this.myOperation.tempOperation.startR+","+this.myOperation.tempOperation.startG+","+this.myOperation.tempOperation.startB+")",this.myOperation.tempOperation.endColor="rgb("+this.myOperation.tempOperation.endR+","+this.myOperation.tempOperation.endG+","+this.myOperation.tempOperation.endB+")"},watch:{"global.mouseUp":function(){this.canMove=!1,this.leftMove=!1,this.rightMove=!1},"global.mouseMove":function(){if(this.canMove)this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming&&(this.duration=this.operation.endTime-this.operation.startTime,this.myOperation.startTime=this.roundTime(this.global.currentTime-this.passedTime),this.myOperation.endTime=this.myOperation.startTime+this.duration,this.updateTemp());else if(this.leftMove){var t=this.global.currentTime;this.roundTime(t)<=this.myOperation.endTime&&(this.myOperation.startTime=this.roundTime(t),this.updateTemp())}else this.rightMove&&(t=this.global.currentTime,this.roundTime(t)>=this.myOperation.startTime&&(this.myOperation.endTime=this.roundTime(t),this.updateTemp()))}},computed:{left:function(){return this.myOperation.startTime/this.displayAreaTime*(this.global.documentWidth-300)}},methods:{roundTime:function(t){if(this.global.beatLine){var e=this.chart.bpm/16,n=(t-this.chart.firstBeatDelay)%e;n>e/2?t+=e-n:t-=n}return Math.ceil(t)},updateTemp:function(){this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation,this.myOperation.tempOperation.startColor="rgb("+this.myOperation.tempOperation.startR+","+this.myOperation.tempOperation.startG+","+this.myOperation.tempOperation.startB+")",this.myOperation.tempOperation.endColor="rgb("+this.myOperation.tempOperation.endR+","+this.myOperation.tempOperation.endG+","+this.myOperation.tempOperation.endB+")"},selfClicked:function(){3==this.currentNoteType?this.deleteSelf():this.enableEdit&&this.startEdit()},setZIndex:function(){this.global.currentOperation&&(this.myGlobal.currentOperation.zIndex=0),this.myGlobal.currentOperation=this.operation,this.myOperation.zIndex=10},updateTrack:function(){this.myGlobal.reCalculateTrack=!this.myGlobal.reCalculateTrack,this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},longOperationCanMove:function(){var t=this;setTimeout((function(){t.passedTime=Math.ceil(t.global.currentTime-t.operation.startTime)}),10),this.canMove=!0},startEdit:function(){this.edit=!0,this.myOperation.tempOperation=JSON.parse(JSON.stringify(this.myOperation)),delete this.myOperation.tempOperation.tempOperation,this.myOperation.tempOperation.startColor="rgb("+this.myOperation.tempOperation.startR+","+this.myOperation.tempOperation.startG+","+this.myOperation.tempOperation.startB+")",this.myOperation.tempOperation.endColor="rgb("+this.myOperation.tempOperation.endR+","+this.myOperation.tempOperation.endG+","+this.myOperation.tempOperation.endB+")"},saveOperation:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;var n=t.myOperation.tempOperation.startColor.substring(4,t.myOperation.tempOperation.startColor.length-1).split(",");for(var i in t.myOperation.tempOperation.startR=n[0],t.myOperation.tempOperation.startG=n[1],t.myOperation.tempOperation.startB=n[2],n=t.myOperation.tempOperation.endColor.substring(4,t.myOperation.tempOperation.endColor.length-1).split(","),t.myOperation.tempOperation.endR=n[0],t.myOperation.tempOperation.endG=n[1],t.myOperation.tempOperation.endB=n[2],t.myOperation.tempOperation)"tempOperation"!=i&&(t.myOperation[i]=t.myOperation.tempOperation[i]);t.edit=!1}))},deleteOperation:function(){var t=this;this.$confirm("您确定删除该操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteSelf(),t.$notify({title:"成功",message:"删除成功",type:"success"})}))},deleteSelf:function(){this.myTrack.changeColorOperations.splice(this.myOperation.index,1),this.updateTrack()}}};const an=ot()(rn,[["render",nn]]);var on=an,ln={props:["track","global","chart","scrollLeft","displayAreaTime","currentNoteType","enableEdit"],components:{Note:je,MoveOperation:Me,WidthOperation:Xe,ColorOperation:on},watch:{"global.mouseUp":function(){this.canMove=!1,this.leftMove=!1,this.rightMove=!1},"global.mouseMove":function(){if(this.canMove)this.global.currentTime>0&&this.global.currentTime<this.chart.songLength&&(this.duration=this.myTrack.endTiming-this.myTrack.startTiming,this.myTrack.startTiming=this.roundTime(this.global.currentTime-this.passedTime),this.myTrack.endTiming=this.myTrack.startTiming+this.duration);else if(this.leftMove){var t=this.global.currentTime,e=this.roundTime(t);e<=this.myTrack.endTiming&&(this.myTrack.notes.length>0?e<=this.myTrack.notes[0].timing&&(this.myTrack.startTiming=e):this.myTrack.startTiming=e)}else this.rightMove&&(t=this.global.currentTime,e=this.roundTime(t),e>=this.myTrack.startTiming&&(this.myTrack.notes.length>0?e>=this.myTrack.notes[this.myTrack.notes.length-1].timing&&(this.myTrack.endTiming=e):this.myTrack.endTiming=e))}},data:function(){return{myTrack:this.track,myGlobal:this.global}},methods:{roundTime:function(t){if(this.global.beatLine){var e=this.chart.bpm/16,n=(t-this.chart.firstBeatDelay)%e;n>e/2?t+=e-n:t-=n}return Math.ceil(t)},updateTrack:function(){this.myGlobal.reCalculateTrack=!this.myGlobal.reCalculateTrack,this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},longOperationCanMove:function(){var t=this;setTimeout((function(){t.passedTime=Math.ceil(t.global.currentTime-t.myTrack.startTiming)}),10),this.canMove=!0},newMoveOperations:function(){3!=this.currentNoteType&&(this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming-150?(this.myTrack.moveOperations.push({startX:this.track.tempPositionX,endX:this.track.tempPositionX,startTime:this.global.currentTime,endTime:this.global.currentTime+150}),this.updateTrack()):this.$notify({title:"错误",message:"请在轨道范围内添加操作",type:"error"}))},newWidthOperations:function(){3!=this.currentNoteType&&(this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming-150?(this.myTrack.changeWidthOperations.push({startWidth:this.track.tempWidth,endWidth:this.track.tempWidth,startTime:this.global.currentTime,endTime:this.global.currentTime+150}),this.updateTrack()):this.$notify({title:"错误",message:"请在轨道范围内添加操作",type:"error"}))},newColorOperations:function(){3!=this.currentNoteType&&(this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming-150?(this.myTrack.changeColorOperations.push({startR:this.track.tempR,startG:this.track.tempG,startB:this.track.tempB,endR:this.track.tempR,endG:this.track.tempG,endB:this.track.tempB,startTime:this.global.currentTime,endTime:this.global.currentTime+150}),this.updateTrack()):this.$notify({title:"错误",message:"请在轨道范围内添加操作",type:"error"}))},newNote:function(){3!=this.currentNoteType&&(this.global.currentTime>this.track.startTiming&&this.global.currentTime<this.track.endTiming-150?(this.myTrack.notes.push({noteType:this.currentNoteType,key:this.track.key,timing:this.global.currentTime,endTiming:this.global.currentTime+150}),this.updateTrack()):this.$notify({title:"错误",message:"请在轨道范围内添加音符",type:"error"}))}}};n("5052");const cn=ot()(ln,[["render",oe]]);var sn=cn;function un(t,e,n,r,a,o){return a.display?(Object(i["E"])(),Object(i["j"])("div",{key:0,onClick:e[1]||(e[1]=function(){return t.selfClicked&&t.selfClicked.apply(t,arguments)}),style:{position:"absolute",left:0,width:n.chart.songLength/n.displayAreaTime*(n.global.documentWidth-300)+"px",height:"30px",zIndex:10,overflow:"hidden"}},[(Object(i["E"])(!0),Object(i["j"])(i["b"],null,Object(i["L"])(t.LineCount,(function(e){return Object(i["E"])(),Object(i["j"])("div",{key:e},[(e-1)%16==0&&(e-1)*t.singleWidth+t.left>0?(Object(i["E"])(),Object(i["j"])("div",{key:0,style:{position:"absolute",top:0,left:(e-1)*t.singleWidth+t.left+"px",width:"1px",height:"30px",background:"rgb(255,255,255)"}},null,4)):(e-1)%8==0&&a.display4&&(e-1)*t.singleWidth+t.left>0?(Object(i["E"])(),Object(i["j"])("div",{key:1,style:{position:"absolute",top:0,left:(e-1)*t.singleWidth+t.left+"px",width:"1px",height:"20px",background:"rgb(255,255,255)"}},null,4)):(e-1)%4==0&&a.display8&&(e-1)*t.singleWidth+t.left>0?(Object(i["E"])(),Object(i["j"])("div",{key:2,style:{position:"absolute",top:0,left:(e-1)*t.singleWidth+t.left+"px",width:"1px",height:"12px",background:"rgb(255,255,255)"}},null,4)):a.display16&&(e-1)*t.singleWidth+t.left>0?(Object(i["E"])(),Object(i["j"])("div",{key:3,style:{position:"absolute",top:0,left:(e-1)*t.singleWidth+t.left+"px",width:"1px",height:"8px",background:"rgb(255,255,255)"}},null,4)):Object(i["k"])("",!0)])})),128))],4)):Object(i["k"])("",!0)}var mn={props:["global","chart","displayAreaTime"],data:function(){return{display:!1,display4:!1,display8:!1,display16:!1}},created:function(){var t=this.chart.bpm/16;this.LineCount=Math.ceil(this.chart.songLength/t)+16,this.setDisplay()},computed:function(){},watch:{displayAreaTime:function(){this.setDisplay(),null==this.rightScrollElement&&(this.rightScrollElement=document.getElementById("footer-right-scroll"));var t=this.global.currentTime/this.displayAreaTime*(this.global.documentWidth-300)-(this.global.documentWidth-300)/2;t<0&&(t=0),this.rightScrollElement.scrollLeft=t,this.scrollLeft=this.rightScrollElement.scrollLeft},"chart.bpm":function(){this.setDisplay()},"chart.firstBeatDelay":function(){this.setDisplay()},"chart.songLength":function(){this.setDisplay()}},methods:{setDisplay:function(){var t=this.chart.bpm/16;this.LineCount=Math.ceil(this.chart.songLength/t)+16;var e=this.chart.bpm/8,n=this.chart.bpm/4,i=this.chart.bpm/1,r=this.global.documentWidth-300;if(r*i/this.displayAreaTime>100){this.display=!0;var a=this.chart.firstBeatDelay;a%=i,this.left=a/this.displayAreaTime*r,this.left-=i/this.displayAreaTime*r,this.singleWidth=r*t/this.displayAreaTime,r*n/this.displayAreaTime>25?(this.display4=!0,r*e/this.displayAreaTime>20?(this.display8=!0,r*t/this.displayAreaTime>15?this.display16=!0:this.display16=!1):(this.display8=!1,this.display16=!1)):(this.display4=!1,this.display8=!1,this.display16=!1)}else this.display=!1,this.display4=!1,this.display8=!1,this.display16=!1}}};const dn=ot()(mn,[["render",un]]);var pn=dn,hn={components:{TrackCard:Qt,TrackCardPanel:sn,BeatLine:pn},props:["chart","global"],data:function(){return{myChart:this.chart,myGlobal:this.global,scrollLeft:0,scrollTop:0,displayAreaTime:3e3,audio:null,indicatorLeft:0,rightScrollElement:null,rightClicked:!1,autoScroll:!1,showReal:!0,showFake:!0,showNoRemain:!0,currentNoteType:0,enableEdit:!0,showCurrent:!1}},mounted:function(){var t=this;this.audio=document.getElementById("audioSong"),setTimeout((function(){t.displayAreaTime=1e4}),100)},watch:{"global.mouseUp":function(){this.rightClicked=!1},"global.currentTime":function(){var t=this;if(null==this.rightScrollElement&&(this.rightScrollElement=document.getElementById("footer-right-scroll")),!this.audio.paused){var e=this.global.currentTime/this.displayAreaTime*(this.global.documentWidth-300)-(this.global.documentWidth-300)/2;e<0&&(e=0),this.rightScrollElement.scrollLeft=e,this.scrollLeft=this.rightScrollElement.scrollLeft}if(this.autoScroll)for(var n=0;n<this.chart.tracks.length;n++)if(this.global.currentTime>this.chart.tracks[n].startTiming&&this.global.currentTime<this.chart.tracks[n].endTiming){setTimeout((function(){document.querySelector("#trackCardPanel"+t.chart.tracks[n].index).scrollIntoView(!0)}),200);break}},chart:function(){this.myChart=this.chart}},computed:{},methods:{updateTrack:function(){this.myGlobal.reCalculateTrack=!this.myGlobal.reCalculateTrack,this.myGlobal.reCalculateChartMaker=!this.myGlobal.reCalculateChartMaker},rightClick:function(t){var e=t.clientX-300+this.scrollLeft,n=e/(this.global.documentWidth-300)*this.displayAreaTime;this.audio.currentTime=n/1e3,this.myGlobal.currentTime=n,this.updateTrack()},rightMouseMove:function(t){var e=t.clientX-300+this.scrollLeft;if(this.indicatorLeft=e,this.rightClicked){var n=e/(this.global.documentWidth-300)*this.displayAreaTime;this.audio.currentTime=n/1e3,this.myGlobal.currentTime=n,this.updateTrack()}},currentTrack:function(t){this.$emit("currentTrack",t)},leftScroll:function(){null==this.rightScrollElement&&(this.rightScrollElement=document.getElementById("footer-right-scroll")),this.rightScrollElement.scrollTop=document.getElementById("footer-left-scroll").scrollTop},rightScroll:function(){null==this.rightScrollElement&&(this.rightScrollElement=document.getElementById("footer-right-scroll")),document.getElementById("footer-left-scroll").scrollTop=this.rightScrollElement.scrollTop,this.scrollLeft=this.rightScrollElement.scrollLeft,this.scrollTop=this.rightScrollElement.scrollTop}}};n("14a4");const bn=ot()(hn,[["render",te]]);var gn=bn,An={components:{Track:Z["a"],MenuPanel:mt,TrackPanel:Zt,Footer:gn},watch:{"global.currentTime":function(){this.global.notePainter&&this.global.notePainter.clearRect(0,0,this.global.noteCanvas.width,this.global.noteCanvas.height),this.global.trackPainter&&this.global.trackPainter.clearRect(0,0,this.global.trackCanvas.width,this.global.trackCanvas.height),this.global.judgePainter&&this.global.judgePainter.clearRect(0,0,this.global.judgeCanvas.width,this.global.judgeCanvas.height),this.sliding&&document.querySelector("#time-indicater").scrollIntoView(!0)},"global.reCalculateChartMaker":function(){this.chart.changeBackgroundOperations&&(this.generateImagePath(),this.sortTrack(),this.resetTrack())}},data:function(){return{canDrag:!1,chart:{songLength:0},chartGot:!1,bpmStart:!1,bpmcount:0,bpmtotal:0,startTotal:0,lastTime:0,startTime:0,global:{currentTime:0},imagePath:[],pauseVisible:!1,audio:null,playInterface:null,isRunning:!1,sliding:!1,menuOpened:!0,volume:100,keyStep:10,currentSelectTrack:null,currentTracks:[],globalSetting:!1,displayStart:0,displayEnd:10,form:{},footerHeight:426}},computed:{whiteLineLength:function(){var t=200,e=1e3;return this.global.currentTime>t+e&&this.global.currentTime<this.chart.songLength-t?this.global.screenWidth:this.global.currentTime<=t+e?this.global.currentTime<e?0:(this.global.currentTime-e)*this.global.screenWidth/t:(this.chart.songLength-this.global.currentTime)*this.global.screenWidth/t}},created:function(){this.loadingStatus={chart:!1,audio:!1,image:!1,canRun:!1},this.global={beatLine:!0,screenWidth:0,screenHeight:0,remainingTime:700,finalY:.8,currentTime:0,lostTime:150,pureTime:50,farTime:100,isEdit:!0,keyPressTime:[],keyIsHold:[],keyUsed:[],notePainter:null,trackPainter:null,judgePainter:null,noteCanvas:null,trackCanvas:null,judgeCanvas:null,repaint:!1,reCalculateTrack:!1,reCalculateChartMaker:!1,mouseDown:!1,mouseUp:!0,mouseMove:!1,clientX:0,clientY:0,timeSort:!0}},mounted:function(){var t=this,e=this;this.playInterface=document.getElementById("play-interface-container"),this.global.noteCanvas=document.getElementById("note-canvas"),this.global.trackCanvas=document.getElementById("track-canvas"),this.global.judgeCanvas=document.getElementById("judge-canvas"),this.global.notePainter=this.global.noteCanvas.getContext("2d"),this.global.trackPainter=this.global.trackCanvas.getContext("2d"),this.global.judgePainter=this.global.judgeCanvas.getContext("2d"),this.resize(),this.global.documentHeight=document.documentElement.clientHeight,this.global.documentWidth=document.documentElement.clientWidth,window.onresize=function(){return function(){e.global.documentHeight=document.documentElement.clientHeight,e.global.documentWidth=document.documentElement.clientWidth;for(var n=0;n<510;n+=16)setTimeout((function(){t.global.trackPainter&&t.global.trackPainter.clearRect(0,0,t.global.trackCanvas.width,t.global.trackCanvas.height),t.resize(),t.repaint()}),n);setTimeout((function(){t.repaint()}),520)}()},document.onkeydown=function(t){t.repeat||(e.global.keyPressTime[t.key.toUpperCase()]=e.global.currentTime,e.global.keyIsHold[t.key.toUpperCase()]=!0,e.global.keyUsed[t.key.toUpperCase()]=!1," "==t.key&&(e.isRunning?e.pause():e.play())),"ArrowUp"==t.key?(e.volume<=90?e.volume+=10:e.volume=100,e.audio.volume=e.volume/100):"ArrowDown"==t.key&&(e.volume>=10?e.volume-=10:e.volume=0,e.audio.volume=e.volume/100)},document.onkeyup=function(t){e.global.keyIsHold[t.key.toUpperCase()]=!1},this.playInterface.onmousedown=function(t){null!=e.currentSelectTrack&&(e.currentSelectTrack.edit=!1,e.currentSelectTrack=null),e.calculateCurrentTracks();for(var n=0;n<e.currentTracks.length;n++){var i=e.currentTracks[n],r=(i.tempPositionX-i.tempWidth)*e.global.screenWidth,a=(i.tempPositionX+i.tempWidth)*e.global.screenWidth;t.offsetX>r&&t.offsetX<a&&(e.currentSelectTrack=i,document.querySelector("#trackCard"+i.index).scrollIntoView(!0),document.querySelector("#trackCardPanel"+i.index).scrollIntoView(!0),setTimeout((function(){e.currentSelectTrack.edit=!0}),10),e.$forceUpdate())}},this.initiate(),document.onmousemove=function(t){e.global.clientX=t.clientX,e.global.clientY=t.clientY,e.global.mouseMove=!e.global.mouseMove,e.canDrag&&t.clientY>130&&t.clientY<e.global.documentHeight-100&&(e.footerHeight=e.global.documentHeight-t.clientY,e.resize(),setTimeout((function(){e.repaint()}),10))},document.onmouseup=function(){e.sliding&&e.SlideMouseUp(),e.canDrag=!1,e.global.mouseUp=!e.global.mouseUp},document.onmousedown=function(t){e.global.clientX=t.clientX,e.global.clientY=t.clientY,e.global.mouseDown=!e.global.mouseDown}},methods:{saveChart:function(t){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$http.post("/chart/editChartContent",e.chart);case 3:i=n.sent,r=i.data,0!==r.code&&e.$notify({title:"失败",message:"谱面上传失败！",type:"error"}),e.$notify({title:"成功",message:"谱面上传成功！",type:"success"}),t&&e.$router.push("/admin"),n.next=13;break;case 10:return n.prev=10,n.t0=n["catch"](0),n.abrupt("return",e.$notify({title:"错误",message:"网络异常",type:"error"}));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},ManualCalculatebpm:function(){this.chart.beatsCount&&this.chart.lastBeatDelay&&this.chart.firstBeatDelay?this.chart.bpm=(this.chart.lastBeatDelay-this.chart.firstBeatDelay)/this.chart.beatsCount:this.$notify({title:"错误",message:"请先输入首拍、末拍偏移和节拍数",type:"error"})},calculatebpm:function(){if(0==this.bpmStart)this.global.currentTime=0,this.audio.currentTime=0,this.bpmcount=0,this.bpmStart=!1,this.lastTime=0,this.bpmtotal=0,this.startTotal=0,this.resetTrack(),this.lastTime=this.global.currentTime,this.bpmStart=!0,this.audio.play();else{if(this.bpmcount<=3)this.lastTime=this.global.currentTime;else if(this.bpmcount<10){var t=this.global.currentTime;this.bpmtotal+=t-this.lastTime,this.startTotal+=t-(t-this.lastTime)*this.bpmcount,this.lastTime=t}else t=this.global.currentTime,this.bpmtotal+=t-this.lastTime,this.startTotal+=t-(t-this.lastTime)*this.bpmcount,this.lastTime=t,this.chart.bpm=this.bpmtotal/(this.bpmcount-3),this.chart.firstBeatDelay=Math.round(this.startTotal/(this.bpmcount-3));this.bpmcount++}},endbpm:function(){this.audio.pause(),this.global.currentTime=0,this.audio.currentTime=0,this.startTotal=0,this.bpmcount=0,this.bpmStart=!1,this.lastTime=0,this.bpmtotal=0,this.resetTrack()},checkbpm:function(){var t=this;this.endbpm(),0!=this.chart.bpm&&this.chart.bpm||setTimeout((function(){t.$notify({title:"提示",message:"请设置节拍",type:"warning"}),t.globalSetting=!0}),1e3)},currentTrack:function(t){null!=this.currentSelectTrack&&(this.currentSelectTrack.edit=!1),this.currentSelectTrack=t,this.$forceUpdate()},minusTime:function(t){this.audio.currentTime-=t,this.global.currentTime=this.audio.currentTime,this.resetTrack()},plusTime:function(t){this.audio.currentTime+=t,this.global.currentTime=this.audio.currentTime,this.resetTrack()},calculateCurrentTracks:function(){this.currentTracks=[];for(var t=0;t<this.chart.tracks.length;t++)this.global.currentTime>this.chart.tracks[t].startTiming&&this.global.currentTime<this.chart.tracks[t].endTiming&&this.currentTracks.push(this.chart.tracks[t])},setIndex:function(){for(var t=0;t<this.chart.tracks.length;t++)this.chart.tracks[t].index=t;for(var e=0;e<this.chart.changeBackgroundOperations.length;e++)this.chart.changeBackgroundOperations[e].index=e},resize:function(){var t=this;this.playInterface=document.getElementById("play-interface-container"),t.global.screenWidth=t.playInterface.offsetWidth,t.global.screenHeight=t.playInterface.offsetHeight,t.global.noteCanvas.height=t.playInterface.offsetHeight,t.global.trackCanvas.height=t.playInterface.offsetHeight,t.global.judgeCanvas.height=t.playInterface.offsetHeight,t.global.noteCanvas.width=t.playInterface.offsetWidth,t.global.trackCanvas.width=t.playInterface.offsetWidth,t.global.judgeCanvas.width=t.playInterface.offsetWidth},changeMenuDisplay:function(){var t=this;this.menuOpened=!this.menuOpened;for(var e=0;e<1e3;e+=16)setTimeout((function(){t.global.trackPainter&&t.global.trackPainter.clearRect(0,0,t.global.trackCanvas.width,t.global.trackCanvas.height),t.resize(),t.repaint()}),e);setTimeout((function(){t.repaint()}),520)},getChart:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/user/getChart?songId=".concat(t.$route.query.songId));case 3:n=e.sent,i=n.data,0!==i.code&&t.$notify({title:"失败",message:"登录失败！",type:"error"}),t.chart=i.data,t.loadingStatus.chart=!0,t.displayStart=0,t.sortTrack(),t.audio=document.getElementById("audioSong"),t.volume=t.$store.state.volume,r=t,t.audio.oncanplay=function(){r.chart.songLength=Math.round(1e3*r.audio.duration),r.generateImagePath(),r.displayEnd=r.chart.songLength},t.chartGot=!0,t.$forceUpdate(),t.audio.volume=t.$store.state.volume/100,t.run(),console.log(t.chart),t.chart.bpm&&0!=t.chart.bpm||(t.globalSetting=!0,t.$notify({type:"warning",title:"提示",message:"请设置节拍"})),t.chart.bpm||(t.chart.bpm=0),t.chart.firstBeatDelay||(t.chart.firstBeatDelay=0),setTimeout((function(){t.resize()}),1e3),e.next=28;break;case 25:return e.prev=25,e.t0=e["catch"](0),e.abrupt("return",t.$notify({title:"错误",message:"网络异常",type:"error"}));case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))()},sortTrack:function(){this.global.timeSort?this.chart.tracks.sort((function(t,e){return t.startTiming-e.startTiming})):this.chart.tracks.sort((function(t,e){return t.positionX-e.positionX})),this.setIndex()},run:function(){this.sliding?this.resetTrack():this.global.currentTime=Math.floor(1e3*this.audio.currentTime),this.global.currentTime>=this.chart.songLength&&(this.isRunning=!1),this.global.currentTime>=this.displayEnd&&(this.audio.currentTime=this.displayEnd/1e3,this.audio.pause(),this.pause(),this.isRunning=!1),requestAnimationFrame(this.run)},log:function(t){console.log(t)},initiate:function(){this.getChart()},generateImagePath:function(){this.imagePath=[];var t=this.chart.changeBackgroundOperations.length,e=0,n=e,i=this.chart.defaultBackground;0==t?n=this.chart.songLength:(this.chart.changeBackgroundOperations.sort((function(t,e){return t.startTime-e.startTime})),n=this.chart.changeBackgroundOperations[0].startTime),this.imagePath.push({url:i,startTime:0,endTime:n});for(var r=0;r<t;r++){var a=this.chart.changeBackgroundOperations[r];if(e=a.startTime,r!=t-1){var o=this.chart.changeBackgroundOperations[r+1];this.imagePath.push({url:a.background,startTime:e,endTime:o.startTime}),a.endTime=o.startTime}else this.imagePath.push({url:a.background,startTime:e,endTime:this.chart.songLength+1e3}),a.endTime=this.chart.songLength+1e3}},changeTime:function(){this.resetTrack(),this.global.currentTime=this.global.currentTime+1,this.global.currentTime=this.global.currentTime-1,this.audio.currentTime=this.global.currentTime/1e3,document.querySelector("#time-indicater").scrollIntoView(!0)},SlideMouseDown:function(){this.audio.pause(),this.sliding=!0,this.resetTrack()},SlideMouseUp:function(){var t=this;this.sliding=!1,this.audio.currentTime=this.global.currentTime/1e3,this.resetTrack(),this.isRunning&&(this.sliding=!1,this.resetTrack(),setTimeout((function(){t.resetTrack(),t.audio.play()}),50))},pause:function(){this.audio.pause(),this.isRunning=!1},play:function(){var t=this;this.resetTrack(),this.sliding=!1,this.isRunning=!0,setTimeout((function(){t.resetTrack(),t.audio.play()}),50)},reStart:function(){var t=this;this.resetTrack(),this.audio.currentTime=this.displayStart/1e3,this.global.currentTime=this.displayStart,this.isRunning&&setTimeout((function(){t.resetTrack(),t.audio.play()}),50)},resetTrack:function(){this.global.keyPressTime=[],this.global.keyIsHold=[],this.global.keyUsed=[];for(var t=0;t<this.chart.tracks.length;t++){for(var e=this.chart.tracks[t],n=0,i=e.notes.length,r=e.notes.length-1;r>=0;r--)e.notes[r].judged=!1,e.notes[r].timing+this.global.lostTime>this.global.currentTime&&(n=r),this.global.currentTime<e.notes[r].timing-this.global.remainingTime&&(i=r);e.judges=[],e.currentNote=n,e.lastNote=i-1,e.currentNote!=e.notes.length?e.judgeFinished=!1:e.judgeFinished=!0}},repaint:function(){this.global.notePainter&&this.global.notePainter.clearRect(0,0,this.global.noteCanvas.width,this.global.noteCanvas.height),this.global.trackPainter&&this.global.trackPainter.clearRect(0,0,this.global.trackCanvas.width,this.global.trackCanvas.height),this.global.judgePainter&&this.global.judgePainter.clearRect(0,0,this.global.judgeCanvas.width,this.global.judgeCanvas.height),this.global.repaint=!this.global.repaint},reCalculateTrack:function(){this.global.reCalculateTrack=!this.global.reCalculateTrack},changeDisplayArea:function(t){this.displayStart=t[0],this.displayEnd=t[1],this.global.currentTime=this.displayStart,this.audio.currentTime=this.global.currentTime/1e3,this.resetTrack()},changeVolume:function(){this.audio.volume=this.volume/100},returnMenu:function(){this.currentSelectTrack=null}}};n("7e1e");const fn=ot()(An,[["render",K],["__scopeId","data-v-539221a2"]]);e["default"]=fn},"14a4":function(t,e,n){"use strict";n("61f4")},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"15cd":function(t,e,n){},"17ff":function(t,e){t.exports="data:image/png;base64,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"},"1d3b":function(t,e,n){},"3ccb":function(t,e,n){"use strict";n("dd98")},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),a=n("b622"),o=a("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},5052:function(t,e,n){"use strict";n("1d3b")},"61f4":function(t,e,n){},"65f0":function(t,e,n){var i=n("861d"),r=n("e8b5"),a=n("b622"),o=a("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},7265:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABFCAYAAAAcjSspAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQEGAAMAAAABAAIAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAAEIAAAAAQAAAQgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAEWgAwAEAAAAAQAAAEUAAAAA0EGGIQAAAAlwSFlzAAAomgAAKJoBFzohsgAAAg9pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4yNjQ8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbj4yPC90aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpkJRyaAAAFGklEQVR4Ae3cS2/UVhQH8DP2PCCZoSxmJhKsAhGthIoAsequYpNFJF5iz6L7Sv0W/QSsEAvabtpFF0hFomLdsqIViJAIFHYEEA+FhHSSzPQcD8dyrfH43LcrxRvPxHZ874+/j6+vFQD2l8oKRHO9Q99i61qVbaHnhkX93uzNuX5n1O91ftuHAUhBCKUqMDXPqciejkBu1GrRtewP6fNoBHdevtq4iB//yW/z8T0USiEIdzokTAiUUpDQML5RxCAhYXyiKIOEgvGFog0SAsYHijGIb5iIT+hoLQZpRDE0ovrUZtRqsIgDvF9xJ6cj33hqK8w2ikFacR2Wjp+CL3tH4em7V7A7HBaeGWEWZmda5za3Br/gTnuFOxpscIUiBjlQr8PFhdNw9YtzcLJ7BJqYmJV3L2FnWNxf1zAuUMQgTUzIBQS5cuIMzDZbePnEMH+4B41aDE/ergdLjG0UMUgLE3KJQD4/m4Bw2gnmGMK0KDFvwyTGJooYhBJClwwnhEF4nSYmgfGfGFsoYhCuIfmEMAivx4npYo2pe68xNlDEIFxDLmMNaWMNKVvSxGCNWfFYY0xRxCDZhEhAGIxrDK1XPd2VTFDEIJyQohrCAEXrFMZTYnRRxCDZhNBtV3dJYTwkRgdFDEIjVRqHSGtIGVgK4zgxqihiEEpIMjDDcYhKDRHDOEyMCooYhMchthKSh3KdGCmKGMRVQibBHD/cTZ6sbd+VJChiEL7LuEpIHqaOlxA9EtCzks1xTBmKGMRXQvIw6aVkscZMQxGDuK4heYj8d4ZpYmJsPF0XoYhBQiVkMsynGmP4dD0JRQzCCdEdqeY7Zvo9rTF4KZkkJo8iBskmxGSkagqRPz69lAxqTBZFDEIj1WnzIfmG+v6ewmjWGEYRg8R4oqWFU8mcapUSkocnGJraBHyJs/JmHfZG8snw5BVHv9/5btLb//yJ6Du9KDoYNyDG2eOqL3FUg4P1Jkiaivss9nqz31OfkqRsbg4etGeaX+HR82UdHcIoeQ3Rqjdg/rMuUHGr4jIY7sLvz5fhp0f3YWt3UNrEEYz+3t6OvhkMBlvcox18j/KzFIZeP9AIsomJOVZBGAK5u/YYfnj0J3zY2RaBfPxYO7+xsfGadmYU+qwO8+YFVC0xnJBbD/VA8igaMMNKJcY0IQRASzYp45/8TxNjIyEMMAmFtileSmETYyshZSgaMFh8A9SYJCFry2BSQxiD10VJ4e1aiWnhXcnH7dp2QrjTZSi0nyLMHjzxkBgXCVFB0YAZ1xhXiRknZBnHIX9ojUO480VrSVL4WPXE4ADPNgyD3HroBoQ6q4JC+yvD0MjXFgxfMq4SQh2kRRWFjlGGsVFjfCSEOkeLDgodpwhjVmN8JYQ6RosuCh2rCDO+KzXx6VrlIXKckMdWxyHU+GmLCQr9XkWYIaxyjcEXWWXTDklC8PFf92l3WsenbTNF0YD5lJiSaYcQCWEoGygaMJnETJiPCZUQ2ygaMJNrTMiEuEDRgPlvYmiqk6YQfdcQxuC1rcuHf58GDCVmHeIogmfvX8OPOKeqM4WYbYDpZ5dT8jNzvfZtnAz/WtJI+mMFmnUf7O2W7k6TzNk51dIDFHdwiUJNUYKRtN01CLXBNQqdwxqMDxBfKFZgfIH4RDGC8QniG0ULxjdICBQlmBAgoVBEMKFAQqJMhQkJEhplIkxoEGpUFRYax9xL/puQfvuvTqfTrUKjqtCGmX6/fX0fpAr/FAVt+BeDMVd/CDOMZAAAAABJRU5ErkJggg=="},"797e":function(t,e,n){"use strict";n("ea72")},"7e1e":function(t,e,n){"use strict";n("15cd")},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),r=n("9f7f"),a=RegExp.prototype.exec,o=String.prototype.replace,l=a,c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],m=c||u||s;m&&(l=function(t){var e,n,r,l,m=this,d=s&&m.sticky,p=i.call(m),h=m.source,b=0,g=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==t[m.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,b++),n=new RegExp("^(?:"+h+")",p)),u&&(n=new RegExp("^"+h+"$(?!\\s)",p)),c&&(e=m.lastIndex),r=a.call(d?n:m,g),d?r?(r.input=r.input.slice(b),r[0]=r[0].slice(b),r.index=m.lastIndex,m.lastIndex+=r[0].length):m.lastIndex=0:c&&r&&(m.lastIndex=m.global?r.index+r[0].length:e),u&&r&&r.length>1&&o.call(r[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)})),r}),t.exports=l},9810:function(t,e,n){"use strict";n("d4df")},"9e6c":function(t,e,n){"use strict";n("013d")},"9f7f":function(t,e,n){"use strict";var i=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a434:function(t,e,n){"use strict";var i=n("23e7"),r=n("23cb"),a=n("a691"),o=n("50c4"),l=n("7b0b"),c=n("65f0"),s=n("8418"),u=n("1dde"),m=u("splice"),d=Math.max,p=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var n,i,u,m,g,A,f=l(this),O=o(f.length),y=r(t,O),j=arguments.length;if(0===j?n=i=0:1===j?(n=0,i=O-y):(n=j-2,i=p(d(a(e),0),O-y)),O+n-i>h)throw TypeError(b);for(u=c(f,i),m=0;m<i;m++)g=y+m,g in f&&s(u,m,f[g]);if(u.length=i,n<i){for(m=y;m<O-i;m++)g=m+i,A=m+n,g in f?f[A]=f[g]:delete f[A];for(m=O;m>O-i+n;m--)delete f[m-1]}else if(n>i)for(m=O-i;m>y;m--)g=m+i-1,A=m+n-1,g in f?f[A]=f[g]:delete f[A];for(m=0;m<n;m++)f[m+y]=arguments[m+2];return f.length=O-i+n,u}})},a953:function(t,e){t.exports="data:image/jpeg;base64,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"},ac1f:function(t,e,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},d4df:function(t,e,n){},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),a=n("b622"),o=n("9263"),l=n("9112"),c=a("species"),s=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),m=a("replace"),d=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,m){var h=a(t),b=!r((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),g=b&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!b||!g||"replace"===t&&(!s||!u||d)||"split"===t&&!p){var A=/./[h],f=n(h,""[t],(function(t,e,n,i,r){return e.exec===o?b&&!r?{done:!0,value:A.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),O=f[0],y=f[1];i(String.prototype,t,O),i(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}m&&l(RegExp.prototype[h],"sham",!0)}},dd98:function(t,e,n){},e115:function(t,e){t.exports="data:image/png;base64,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"},ea72:function(t,e,n){},eeff:function(t,e){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=chunk-9e389038.b95b42c4.js.map