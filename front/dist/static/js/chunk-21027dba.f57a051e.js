(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21027dba"],{1148:function(t,e,i){"use strict";var n=i("a691"),r=i("1d80");t.exports="".repeat||function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d3b7");function n(t,e,i,n,r,o,s){try{var a=t[o](s),h=a.value}catch(l){return void i(l)}a.done?e(h):Promise.resolve(h).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var s=t.apply(e,i);function a(t){n(s,r,o,a,h,"next",t)}function h(t){n(s,r,o,a,h,"throw",t)}a(void 0)}))}}},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),o=i("2d00"),s=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),r=i("825a"),o=i("d039"),s=i("ad6d"),a="toString",h=RegExp.prototype,l=h[a],d=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),c=l.name!=a;(d||c)&&n(RegExp.prototype,a,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in h)?s.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"38cf":function(t,e,i){var n=i("23e7"),r=i("1148");n({target:"String",proto:!0},{repeat:r})},"49d9":function(t,e,i){"use strict";var n=i("7a23");function r(t,e,i,r,o,s){var a=Object(n["N"])("judge-painter");return Object(n["E"])(),Object(n["j"])("div",null,[(Object(n["E"])(!0),Object(n["j"])(n["b"],null,Object(n["L"])(o.myTrack.judges,(function(t){return Object(n["E"])(),Object(n["j"])("div",{key:t},[Object(n["n"])(a,{middle:s.middle,Y:s.Y,global:i.global,judge:t},null,8,["middle","Y","global","judge"])])})),128))])}var o=i("1da1");i("96cf"),i("fb6a"),i("cb29");function s(t,e,i,r,o,s){return Object(n["E"])(),Object(n["j"])("div")}var a=.04,h={data:function(){return{myglobal:this.global,judgeSize:300,judgeAnimationTime:300,colorList:["rgba(0,0,0,"+a+")","rgba(255,255,255,"+a+")","rgba(255,215,0,"+a+")","rgba(218,165,32,"+a+")","rgba(173,255,47,"+a+")","rgba(100,149,237,"+a+")","rgba(0,191,255,"+a+")","rgba(255,0,255,"+a+")","rgba(72,61,139,"+a+")","rgba(0,0,0,"+a+")","rgba(0,0,0,"+a+")"],flakes:[]}},props:["Y","middle","global","judge"],watch:{"global.currentTime":function(){this.judgePainter(this.judge)}},created:function(){for(var t=0;t<4;t++)this.flakes.push({})},methods:{judgePainter:function(t){this.paintJudge(t)},paintJudge:function(t){var e=this.global.judgePainter,i=this.global.currentTime,n=0,r=0;if(i<t.timing&&(i=t.timing),i<t.timing+.75*this.judgeAnimationTime)n=.9*this.judgeSize/(.75*this.judgeAnimationTime)*(i-t.timing),r=40;else if(i<t.timing+this.judgeAnimationTime){var o=.4*this.judgeSize/this.judgeAnimationTime,s=this.judgeSize-o*(t.timing+this.judgeAnimationTime);n=o*i+s,r=40/(.25*this.judgeAnimationTime)*(t.timing+this.judgeAnimationTime-i)}else n=0,r=0;"far"==t.type&&(n*=.6),e.beginPath(),e.moveTo(this.middle,this.Y-n),e.lineTo(this.middle+n,this.Y),e.lineTo(this.middle,this.Y+n),e.lineTo(this.middle-n,this.Y),e.lineTo(this.middle,this.Y-n),e.closePath();var h=0;if("pure"==t.type){var l=e.createLinearGradient(this.middle-n,this.Y-n,this.middle+n,this.Y+n);for(h=0;h<=10;h++)l.addColorStop(""+h/10,this.colorList[h]);e.strokeStyle=l}else"far"==t.type&&(e.strokeStyle="rgba(100,149,237,"+a+")");for(e.globalCompositeOperation="lighter",h=2;h<r;h++)e.lineWidth=h/2,h++,e.stroke();e.beginPath();var d=1.5;for(e.moveTo(this.middle,this.Y-d*n),e.lineTo(this.middle+d*n,this.Y),e.lineTo(this.middle,this.Y+d*n),e.lineTo(this.middle-d*n,this.Y),e.lineTo(this.middle,this.Y-d*n),e.closePath(),e.strokeStyle="rgba(255,255,255,"+.2*a+")",h=2;h<3*r;h++)e.lineWidth=h,e.stroke(),h+=5;e.globalCompositeOperation="source-over"}}},l=i("d959"),d=i.n(l);const c=d()(h,[["render",s]]);var g=c,m={props:["Track","global"],components:{JudgePainter:g},data:function(){return{myTrack:this.Track,myglobal:this.global,lengthForBlackPoint:10,widthPath:[],positionXPath:[],RGBPath:[],widthIndex:0,positionXIndex:0,RGBIndex:0,opacity:.3,animationTime:100,height:0,top:0,blackLength:28,pinkLength:20,whiteLength:15,mirrorOpacity:.1,isJudgingHold:!1,tempJudge:{}}},watch:{"global.currentTime":function(){if(this.global.currentTime>0){this.myTrack.tempPositionX=this.getPositionX(),this.myTrack.tempWidth=this.getWidth();var t=this.getRGB();this.myTrack.tempR=t[0],this.myTrack.tempG=t[1],this.myTrack.tempB=t[2],this.setHeightAndTop();while(this.myTrack.judges.length>0&&this.myTrack.judges[0].timing+this.judgeAnimationTime<this.global.currentTime)this.myTrack.judges=this.myTrack.judges.slice(1);this.paintTrack()}while(this.myTrack.lastNote<this.myTrack.notes.length-1&&this.global.currentTime>this.myTrack.notes[this.myTrack.lastNote+1].timing-this.global.remainingTime)this.myTrack.lastNote++;this.judge()},"global.screenHeight":function(){this.setHeightAndTop(),this.paintTrack()},"global.screenWidth":function(){this.paintTrack()},"global.repaint":function(){this.paintTrack()},"global.reCalculateTrack":function(){this.setIndex(),this.generatePositionXPath(),this.myTrack.tempPositionX=this.getPositionX(),this.generateWidthPath(),this.myTrack.tempWidth=this.getWidth(),this.generateRGBPath();var t=this.getRGB();this.myTrack.tempR=t[0],this.myTrack.tempG=t[1],this.myTrack.tempB=t[2],this.myTrack.notes.sort((function(t,e){return t.timing-e.timing}));for(var e=0;e<this.myTrack.notes.length;e++)this.myTrack.notes[e].index=e;this.paintTrack()}},created:function(){this.initiate()},computed:{isActive:function(){if(1==this.Track.type){var t=this.global.currentTime,e=this.global.keyPressTime[this.Track.key.toUpperCase()],i=this.global.keyIsHold[this.Track.key.toUpperCase()];return i||t-e>0&&t-e<175}return!1},lengthForKey:function(){return.1*this.global.screenHeight>30?30:.1*this.global.screenHeight},finalHeight:function(){return this.global.screenHeight*this.global.finalY},width:function(){return 2*this.Track.tempWidth*this.global.screenWidth},halfWidth:function(){return this.Track.tempWidth*this.global.screenWidth},left:function(){return(this.Track.tempPositionX-this.Track.tempWidth)*this.global.screenWidth},middle:function(){return this.Track.tempPositionX*this.global.screenWidth},Y:function(){return this.global.finalY*this.global.screenHeight}},methods:{paintTrack:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.paintNotes();case 2:i=t.global.trackPainter,t.width>4&&t.height>0&&(n=t.height>t.global.screenHeight-t.Y,i.beginPath(),i.rect(t.left+2,t.top,t.width-4,t.height),i.fillStyle="rgba("+t.Track.tempR+","+t.Track.tempG+","+t.Track.tempB+","+t.opacity+")",i.fill(),t.isActive&&(i.fillStyle="rgba(255,255,255,0.4)",i.fill()),i.beginPath(),i.rect(t.left+2,t.Y,t.width-4,n?t.global.screenHeight-t.Y:t.height),i.fillStyle="rgba("+t.Track.tempR+","+t.Track.tempG+","+t.Track.tempB+",0.1)",i.fill(),t.isActive&&(i.fillStyle="rgba(255,255,255,0.2)",i.fill()),i.beginPath(),i.moveTo(t.left,t.top),i.lineTo(t.left,t.Y),i.strokeStyle="rgba(255,255,255,0.8)",i.lineWidth=2,i.stroke(),i.beginPath(),i.moveTo(t.left,t.Y),i.lineTo(t.left,n?t.global.screenHeight:t.Y+t.height),i.strokeStyle="rgba(255,255,255,0.1)",i.lineWidth=2,i.stroke(),i.beginPath(),i.moveTo(t.left+t.width,t.top),i.lineTo(t.left+t.width,t.Y),i.strokeStyle="rgba(255,255,255,0.8)",i.lineWidth=2,i.stroke(),i.beginPath(),i.moveTo(t.left+t.width,t.Y),i.lineTo(t.left+t.width,n?t.global.screenHeight:t.Y+t.height),i.strokeStyle="rgba(255,255,255,0.1)",i.lineWidth=2,i.stroke(),i.beginPath(),i.moveTo(t.middle,t.top),i.lineTo(t.middle,t.Y),i.strokeStyle="rgba(0,0,0,0.3)",i.lineWidth=1,i.stroke(),i.beginPath(),i.moveTo(t.middle,t.Y),i.lineTo(t.middle,n?t.global.screenHeight:t.Y+t.height),i.strokeStyle="rgba(0,0,0,0.05)",i.lineWidth=1,i.stroke(),i.beginPath(),i.moveTo(t.middle,t.Y-t.lengthForBlackPoint),i.lineTo(t.middle+t.lengthForBlackPoint,t.Y),i.lineTo(t.middle,t.Y+t.lengthForBlackPoint),i.lineTo(t.middle-t.lengthForBlackPoint,t.Y),i.lineTo(t.middle,t.Y-t.lengthForBlackPoint),i.closePath(),i.fillStyle="rgb(22, 22, 14)",i.fill(),1==t.Track.type&&(r=9*t.Y/8,i.beginPath(),i.moveTo(t.middle,r-t.lengthForKey),i.lineTo(t.middle+t.lengthForKey,r),i.lineTo(t.middle,r+t.lengthForKey),i.lineTo(t.middle-t.lengthForKey,r),i.lineTo(t.middle,r-t.lengthForKey),i.closePath(),i.strokeStyle="rgb(255,255,255)",i.lineWidth=1,i.stroke(),t.isActive&&(i.fillStyle="rgba(255,255,255,0.4)",i.fill()),i.fillStyle="rgba(255, 255, 255,0.2)",i.fill(),i.beginPath(),i.font=t.lengthForKey+"px Arial",i.shadowColor="rgba(0, 0, 0, 1)",i.shadowBlur=2,i.fillStyle="rgba(255, 255, 255,1)",i.textAlign="center",i.textBaseline="middle",i.fillText(t.myTrack.key.toUpperCase(),t.middle,r),i.shadowBlur=0));case 4:case"end":return e.stop()}}),e)})))()},paintNotes:function(){if(!this.myTrack.judgeFinished)for(var t=this.myTrack.lastNote;t>=this.myTrack.currentNote;t--)this.paintNote(this.myTrack.notes[t])},paintNote:function(t){var e=this.global.notePainter,i=this.global.currentTime,n=(this.global.finalY/this.global.remainingTime*i-this.global.finalY/this.global.remainingTime*(t.timing-this.global.remainingTime))*this.global.screenHeight,r=1!=t.noteType&&n/this.global.screenHeight>=.6&&n/this.global.screenHeight<.8||1==t.noteType&&n/this.global.screenHeight>.6;if(0==t.noteType){if(r){var o=2*this.Y-n;e.beginPath(),e.moveTo(this.middle,o-this.blackLength),e.lineTo(this.middle+this.blackLength,o),e.lineTo(this.middle,o+this.blackLength),e.lineTo(this.middle-this.blackLength,o),e.lineTo(this.middle,o-this.blackLength),e.closePath(),e.fillStyle="rgba(22, 22, 14,0.1)",e.fill(),e.beginPath(),e.moveTo(this.middle,o-this.pinkLength),e.lineTo(this.middle+this.pinkLength,o),e.lineTo(this.middle,o+this.pinkLength),e.lineTo(this.middle-this.pinkLength,o),e.lineTo(this.middle,o-this.pinkLength),e.closePath(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(203, 105, 121,1)",e.fill(),e.globalCompositeOperation="source-over",e.fillStyle="rgba(203, 105, 121,0.1)",e.fill()}e.beginPath(),e.moveTo(this.middle,n-this.blackLength),e.lineTo(this.middle+this.blackLength,n),e.lineTo(this.middle,n+this.blackLength),e.lineTo(this.middle-this.blackLength,n),e.lineTo(this.middle,n-this.blackLength),e.closePath(),e.fillStyle="rgb(22, 22, 14)",e.fill(),e.beginPath(),e.moveTo(this.middle,n-this.pinkLength),e.lineTo(this.middle+this.pinkLength,n),e.lineTo(this.middle,n+this.pinkLength),e.lineTo(this.middle-this.pinkLength,n),e.lineTo(this.middle,n-this.pinkLength),e.closePath(),e.fillStyle="rgb(203, 105, 121)",e.fill()}else if(1==t.noteType){var s=0;i<t.timing?s=(t.endTiming-t.timing)/this.global.remainingTime*this.global.finalY*this.global.screenHeight:i<t.endTiming?(s=(t.endTiming-i)/this.global.remainingTime*this.global.finalY*this.global.screenHeight,n=this.global.finalY*this.global.screenHeight):s=0,r&&(o=2*this.Y-n,e.beginPath(),e.moveTo(this.middle+this.blackLength,o),e.lineTo(this.middle+this.blackLength,o+s),e.lineTo(this.middle,o+s+this.blackLength),e.lineTo(this.middle-this.blackLength,o+s),e.lineTo(this.middle-this.blackLength,o),e.lineTo(this.middle,o-this.blackLength),e.closePath(),e.fillStyle="rgba(22, 22, 14,0.1)",e.fill(),e.beginPath(),e.moveTo(this.middle+this.pinkLength,o),e.lineTo(this.middle,o+this.pinkLength),e.lineTo(this.middle-this.pinkLength,o),e.lineTo(this.middle,o-this.pinkLength),e.closePath(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(203, 105, 121,1)",e.fill(),e.globalCompositeOperation="source-over",e.fillStyle="rgba(203, 105, 121,0.1)",e.fill(),e.beginPath(),e.moveTo(this.middle+this.pinkLength,o+s),e.lineTo(this.middle,o+s+this.pinkLength),e.lineTo(this.middle-this.pinkLength,o+s),e.lineTo(this.middle,o+s-this.pinkLength),e.closePath(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(203, 105, 121,1)",e.fill(),e.globalCompositeOperation="source-over",e.fillStyle="rgba(203, 105, 121,0.1)",e.fill()),e.beginPath(),e.moveTo(this.middle+this.blackLength,n),e.lineTo(this.middle+this.blackLength,n-s),e.lineTo(this.middle,n-s-this.blackLength),e.lineTo(this.middle-this.blackLength,n-s),e.lineTo(this.middle-this.blackLength,n),e.lineTo(this.middle,n+this.blackLength),e.closePath(),e.fillStyle="rgb(22, 22, 14)",e.fill(),e.beginPath(),e.moveTo(this.middle+this.pinkLength,n),e.lineTo(this.middle,n+this.pinkLength),e.lineTo(this.middle-this.pinkLength,n),e.lineTo(this.middle,n-this.pinkLength),e.closePath(),e.fillStyle="rgb(203, 105, 121)",e.fill(),e.beginPath(),e.moveTo(this.middle+this.pinkLength,n-s),e.lineTo(this.middle,n-s+this.pinkLength),e.lineTo(this.middle-this.pinkLength,n-s),e.lineTo(this.middle,n-s-this.pinkLength),e.closePath(),e.fillStyle="rgb(203, 105, 121)",e.fill()}else 2==t.noteType&&(r&&(o=2*this.Y-n,e.beginPath(),e.moveTo(this.middle,o-this.whiteLength),e.lineTo(this.middle+this.whiteLength,o),e.lineTo(this.middle,o+this.whiteLength),e.lineTo(this.middle-this.whiteLength,o),e.lineTo(this.middle,o-this.whiteLength),e.closePath(),e.fillStyle="rgba(255,255,255,0.3)",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke()),e.beginPath(),e.moveTo(this.middle,n-this.whiteLength),e.lineTo(this.middle+this.whiteLength,n),e.lineTo(this.middle,n+this.whiteLength),e.lineTo(this.middle-this.whiteLength,n),e.lineTo(this.middle,n-this.whiteLength),e.closePath(),e.fillStyle="rgb(255,255,255)",e.fill(),e.strokeStyle="rgb(0,0,0)",e.lineWidth=1,e.stroke())},initiate:function(){this.setHeightAndTop(),this.setIndex(),this.generateWidthPath(),this.generatePositionXPath(),this.generateRGBPath(),this.myTrack.notes.sort((function(t,e){return t.timing-e.timing}));for(var t=0;t<this.myTrack.notes.length;t++)this.myTrack.notes[t].index=t;for(var e=this.myTrack,i=0,n=e.notes.length,r=e.notes.length-1;r>=0;r--)e.notes[r].judged=!1,e.notes[r].timing>this.global.currentTime&&(i=r),this.global.currentTime<e.notes[r].timing-this.global.remainingTime&&(n=r);e.currentNote=i,e.lastNote=n-1,this.myTrack.judges=[],this.myTrack.tempPositionX=this.getPositionX(),this.myTrack.tempWidth=this.getWidth(),this.myTrack.tempR=this.getRGB()[0],this.myTrack.tempG=this.getRGB()[1],this.myTrack.tempB=this.getRGB()[2],this.paintTrack()},judge:function(){if(this.Track.notes.length>0&&!this.myTrack.judgeFinished){var t="";t=1==this.Track.type?this.Track.key.toUpperCase():this.Track.notes[this.myTrack.currentNote].key.toUpperCase();var e=this.global.keyPressTime[t],i=this.global.currentTime,n=this.Track.notes[this.myTrack.currentNote].timing,r=this.global.pureTime,o=this.global.farTime,s=this.global.lostTime,a=this.global.keyUsed[t],h=this.global.keyIsHold[t],l=this.Track.notes[this.myTrack.currentNote];this.isJudgingHold?i>l.endTiming?(this.isJudgingHold=!1,this.addCount(this.tempJudge),this.addNoteCount()):h||(this.isJudgingHold=!1,this.addNoteCount(),i>l.endTiming-o?this.addCount(this.tempJudge):this.addCount({type:"lost",key:"lostCount",message:"因提前释放长键判定为Lost",judgeTime:i,timing:l.endTiming})):2==l.noteType?i>n-o&&(i>n+o?(this.addCount({type:"lost",key:"lostCount",message:"因超时没有按到而判定为Lost",judgeTime:i,timing:n}),this.addNoteCount()):this.global.keyIsHold[t]&&(this.addCount({type:"pure",key:"pureCount",message:"pure",judgeTime:i,timing:n}),this.$forceUpdate(),this.addNoteCount())):0==l.noteType?i>n-o&&(i>n+s?(this.addCount({type:"lost",key:"lostCount",message:"因超时没有按到而判定为Lost",judgeTime:i,timing:n}),this.addNoteCount()):a||(e>n-r&&e<n+r?(this.addCount({type:"pure",key:"pureCount",message:"pure",judgeTime:e,timing:n}),this.$forceUpdate(),this.myglobal.keyUsed[t]=!0,this.addNoteCount()):e>n-o&&e<n+o?(this.addCount({type:"far",key:"farCount",message:e<n?"因为过早按下而判定为far(early)":"因为过晚按下而判定为far(late)",judgeTime:e,timing:n}),this.$forceUpdate(),this.myglobal.keyUsed[t]=!0,this.addNoteCount()):e>n-s&&e<n+s&&(this.addCount({type:"lost",key:"lostCount",message:e<n?"因为过早按下而判定为lost(early)":"因为过晚按下而判定为lost(late)",judgeTime:e,timing:n}),this.$forceUpdate(),this.myglobal.keyUsed[t]=!0,this.addNoteCount()))):i>n-o&&(i>n+o?(this.addCount({type:"lost",key:"lostCount",message:"因超时没有按到而判定为Lost",judgeTime:i,timing:n}),this.addNoteCount()):a||(e>n-r&&e<n+r?(this.tempJudge={type:"pure",key:"pureCount",message:"pure",judgeTime:e,timing:l.endTiming},this.myTrack.judges.push({type:"pure",key:"pureCount",message:"pure",judgeTime:e,timing:n}),this.myglobal.keyUsed[t]=!0,this.isJudgingHold=!0):e>n-o&&e<n+o?(this.tempJudge={type:"far",key:"farCount",message:e<n?"因为过早按下而判定为far(early)":"因为过晚按下而判定为far(late)",judgeTime:e,timing:l.endTiming},this.myTrack.judges.push({type:"far",key:"farCount",message:e<n?"因为过早按下而判定为far(early)":"因为过晚按下而判定为far(late)",judgeTime:e,timing:n}),this.myglobal.keyUsed[t]=!0,this.isJudgingHold=!0):e>n-s&&e<n+s&&(this.addCount({type:"lost",key:"lostCount",message:e<n?"因为过早按下而判定为lost(early)":"因为过晚按下而判定为lost(late)",judgeTime:e,timing:n}),this.$forceUpdate(),this.myglobal.keyUsed[t]=!0,this.addNoteCount())))}},addCount:function(t){"lost"!=t.type&&this.myTrack.judges.push(t),this.$emit("addCount",t)},addNoteCount:function(){this.myTrack.currentNote<this.Track.notes.length-1?this.myTrack.currentNote++:this.myTrack.judgeFinished=!0},generateWidthPath:function(){this.widthPath=[],this.widthIndex=0;var t=this.myTrack.changeWidthOperations.length,e=this.Track.startTiming,i=e;0==t?i=this.Track.endTiming-this.animationTime:(this.myTrack.changeWidthOperations.sort((function(t,e){return t.startTime-e.startTime})),i=this.myTrack.changeWidthOperations[0].startTime),this.widthPath.push({type:0,width:0,startTime:0,endTime:e}),this.widthPath.push({type:0,width:this.myTrack.width,startTime:e,endTime:i});for(var n=0;n<t;n++){var r=this.myTrack.changeWidthOperations[n];if(e=r.startTime,i=r.endTime,r.startTime!=r.endTime){var o=(r.endWidth-r.startWidth)/(r.endTime-r.startTime),s=r.endWidth-o*r.endTime;this.widthPath.push({type:1,k:o,b:s,startTime:e,endTime:i})}if(n!=t-1){var a=this.myTrack.changeWidthOperations[n+1];i<a.startTime&&this.widthPath.push({type:0,width:r.endWidth,startTime:i,endTime:a.startTime})}else this.widthPath.push({type:0,width:r.endWidth,startTime:i,endTime:this.Track.endTiming})}},generatePositionXPath:function(){this.positionXPath=[],this.positionXIndex=0;var t=this.myTrack.moveOperations.length,e=this.Track.startTiming,i=e;0==t?i=this.Track.endTiming:(this.myTrack.moveOperations.sort((function(t,e){return t.startTime-e.startTime})),i=this.myTrack.moveOperations[0].startTime),this.positionXPath.push({type:0,positionX:this.myTrack.positionX,startTime:0,endTime:i});for(var n=0;n<t;n++){var r=this.myTrack.moveOperations[n];if(e=r.startTime,i=r.endTime,r.startTime!=r.endTime){var o=(r.endX-r.startX)/(r.endTime-r.startTime),s=r.endX-o*r.endTime;this.positionXPath.push({type:1,k:o,b:s,startTime:e,endTime:i})}if(n!=t-1){var a=this.myTrack.moveOperations[n+1];i<a.startTime&&this.positionXPath.push({type:0,positionX:r.endX,startTime:i,endTime:a.startTime})}else i<this.Track.endTiming&&this.positionXPath.push({type:0,positionX:r.endX,startTime:i,endTime:this.Track.endTiming})}},generateRGBPath:function(){this.RGBPath=[],this.RGBIndex=0;var t=this.myTrack.changeColorOperations.length,e=this.Track.startTiming,i=e;0==t?i=this.Track.endTiming:(this.myTrack.changeColorOperations.sort((function(t,e){return t.startTime-e.startTime})),i=this.myTrack.changeColorOperations[0].startTime),this.RGBPath.push({type:0,R:this.myTrack.R,G:this.myTrack.G,B:this.myTrack.B,startTime:0,endTime:i});for(var n=0;n<t;n++){var r=this.myTrack.changeColorOperations[n];if(e=r.startTime,i=r.endTime,r.startTime!=r.endTime){var o=(r.endR-r.startR)/(r.endTime-r.startTime),s=r.endR-o*r.endTime,a=(r.endG-r.startG)/(r.endTime-r.startTime),h=r.endG-a*r.endTime,l=(r.endB-r.startB)/(r.endTime-r.startTime),d=r.endB-l*r.endTime;this.RGBPath.push({type:1,Rk:o,Rb:s,Gk:a,Gb:h,Bk:l,Bb:d,startTime:e,endTime:i})}if(n!=t-1){var c=this.myTrack.changeColorOperations[n+1];i<c.startTime&&this.RGBPath.push({type:0,R:r.endR,G:r.endG,B:r.endB,startTime:i,endTime:c.startTime})}else i<this.Track.endTiming&&this.RGBPath.push({type:0,R:r.endR,G:r.endG,B:r.endB,startTime:i,endTime:this.Track.endTiming})}},binaryGetCurrentIndex:function(t,e){var i=e.length-1;if(0==i)return 0;var n=0,r=Math.floor((i+n)/2);while(i>n){if(e[r].startTime<=t&&e[r].endTime>=t)return r;e[r].startTime>t&&(i=r-1),e[r].endTime<t&&(n=r+1),r=Math.floor((i+n)/2)}return r},getPositionX:function(){var t=this.global.currentTime,e=this.positionXPath[this.positionXIndex];return t<=e.endTime&&t>=e.startTime||(this.positionXIndex=this.binaryGetCurrentIndex(t,this.positionXPath),e=this.positionXPath[this.positionXIndex]),0==e.type?e.positionX:1==e.type?e.k*t+e.b:void 0},getWidth:function(){var t=this.global.currentTime,e=this.widthPath[this.widthIndex];return t<=e.endTime&&t>=e.startTime||(this.widthIndex=this.binaryGetCurrentIndex(t,this.widthPath),e=this.widthPath[this.widthIndex]),0==e.type?e.width:1==e.type?e.k*t+e.b:void 0},getRGB:function(){var t=this.global.currentTime,e=this.RGBPath[this.RGBIndex];return t<=e.endTime&&t>=e.startTime||(this.RGBIndex=this.binaryGetCurrentIndex(t,this.RGBPath),e=this.RGBPath[this.RGBIndex]),0==e.type?[e.R,e.G,e.B]:1==e.type?[e.Rk*t+e.Rb,e.Gk*t+e.Gb,e.Bk*t+e.Bb]:void 0},setHeightAndTop:function(){var t=this.global.finalY/this.animationTime;this.global.currentTime<this.myTrack.startTiming+this.animationTime?this.top=this.finalHeight-(t*this.global.currentTime-t*this.myTrack.startTiming)*this.global.screenHeight:this.global.currentTime>this.myTrack.endTiming-this.animationTime?this.top=this.finalHeight-(-t*this.global.currentTime+t*this.myTrack.endTiming)*this.global.screenHeight:this.top=0,this.height=this.finalHeight-this.top},setIndex:function(){for(var t=0;t<this.myTrack.moveOperations.length;t++)this.myTrack.moveOperations[t].index=t;for(t=0;t<this.myTrack.changeWidthOperations.length;t++)this.myTrack.changeWidthOperations[t].index=t;for(t=0;t<this.myTrack.changeColorOperations.length;t++)this.myTrack.changeColorOperations[t].index=t}}};i("c78f");const u=d()(m,[["render",r]]);e["a"]=u},"77ed":function(t,e,i){},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),r=i("23cb"),o=i("50c4");t.exports=function(t){var e=n(this),i=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,i),h=s>2?arguments[2]:void 0,l=void 0===h?i:r(h,i);while(l>a)e[a++]=t;return e}},8418:function(t,e,i){"use strict";var n=i("c04e"),r=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,o(0,i)):t[s]=i}},"96cf":function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function h(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(R){h=function(t,e,i){return t[e]=i}}function l(t,e,i,n){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),s=new O(n||[]);return o._invoke=j(t,i,s),o}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(R){return{type:"throw",arg:R}}}t.wrap=l;var c="suspendedStart",g="suspendedYield",m="executing",u="completed",T={};function p(){}function f(){}function y(){}var b={};b[o]=function(){return this};var k=Object.getPrototypeOf,v=k&&k(k(B([])));v&&v!==i&&n.call(v,o)&&(b=v);var P=y.prototype=p.prototype=Object.create(b);function w(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function i(r,o,s,a){var h=d(t[r],t,o);if("throw"!==h.type){var l=h.arg,c=l.value;return c&&"object"===typeof c&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(c).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(h.arg)}var r;function o(t,n){function o(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function j(t,e,i){var n=c;return function(r,o){if(n===m)throw new Error("Generator is already running");if(n===u){if("throw"===r)throw o;return S()}i.method=r,i.arg=o;while(1){var s=i.delegate;if(s){var a=x(s,i);if(a){if(a===T)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c)throw n=u,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=m;var h=d(t,e,i);if("normal"===h.type){if(n=i.done?u:g,h.arg===T)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(n=u,i.method="throw",i.arg=h.arg)}}}function x(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,x(t,i),"throw"===i.method))return T;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var r=d(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,T;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,T):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,T)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function G(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function B(t){if(t){var i=t[o];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:S}}function S(){return{value:e,done:!0}}return f.prototype=P.constructor=y,y.constructor=f,f.displayName=h(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,h(t,a,"GeneratorFunction")),t.prototype=Object.create(P),t},t.awrap=function(t){return{__await:t}},w(L.prototype),L.prototype[s]=function(){return this},t.AsyncIterator=L,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var s=new L(l(e,i,n,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(P),h(P,a,"Generator"),P[o]=function(){return this},P.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=B,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(G),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var h=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(h&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(h){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),T},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),G(i),T}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;G(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:B(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),T}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b5ef:function(t,e,i){},c78f:function(t,e,i){"use strict";i("b5ef")},cb29:function(t,e,i){var n=i("23e7"),r=i("81d5"),o=i("44d2");n({target:"Array",proto:!0},{fill:r}),o("fill")},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("861d"),o=i("e8b5"),s=i("23cb"),a=i("50c4"),h=i("fc6a"),l=i("8418"),d=i("b622"),c=i("1dde"),g=c("slice"),m=d("species"),u=[].slice,T=Math.max;n({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var i,n,d,c=h(this),g=a(c.length),p=s(t,g),f=s(void 0===e?g:e,g);if(o(c)&&(i=c.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)?r(i)&&(i=i[m],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return u.call(c,p,f);for(n=new(void 0===i?Array:i)(T(f-p,0)),d=0;p<f;p++,d++)p in c&&l(n,d,c[p]);return n.length=d,n}})}}]);
//# sourceMappingURL=chunk-21027dba.f57a051e.js.map